"ace"in window||(window.ace={}),"vars"in window.ace||(window.ace.vars={icon:" ace-icon ",".icon":".ace-icon"}),ace.config={cookie_expiry:604800,storage_method:2},ace.settings={is:function(e,t){return 1==ace.data.get("settings",e+"-"+t)},exists:function(e,t){return null!==ace.data.get("settings",e+"-"+t)},set:function(e,t){ace.data.set("settings",e+"-"+t,1)},unset:function(e,t){ace.data.set("settings",e+"-"+t,-1)},remove:function(e,t){ace.data.remove("settings",e+"-"+t)},navbar_fixed:function(e,t,i){var s=document.getElementById("navbar");if(!s)return!1;if(e=e||!1,t=t&&!0,!e&&i!==!1){var n=null;(ace.settings.is("sidebar","fixed")||(n=document.getElementById("sidebar"))&&ace.hasClass(n,"sidebar-fixed"))&&ace.settings.sidebar_fixed(!1,t)}e?(ace.hasClass(s,"navbar-fixed-top")||ace.addClass(s,"navbar-fixed-top"),t!==!1&&ace.settings.set("navbar","fixed")):(ace.removeClass(s,"navbar-fixed-top"),t!==!1&&ace.settings.unset("navbar","fixed"));try{document.getElementById("ace-settings-navbar").checked=e}catch(a){}window.jQuery&&jQuery(document).trigger("settings.ace",["navbar_fixed",e])},sidebar_fixed:function(e,t,i){var s=document.getElementById("sidebar");if(!s)return!1;if(e=e||!1,t=t&&!0,!e&&i!==!1){var n=null;(ace.settings.is("breadcrumbs","fixed")||(n=document.getElementById("breadcrumbs"))&&ace.hasClass(n,"breadcrumbs-fixed"))&&ace.settings.breadcrumbs_fixed(!1,t)}if(e&&i!==!1&&!ace.settings.is("navbar","fixed")&&ace.settings.navbar_fixed(!0,t),e){if(!ace.hasClass(s,"sidebar-fixed")){ace.addClass(s,"sidebar-fixed");var a=document.getElementById("menu-toggler");a&&ace.addClass(a,"fixed")}t!==!1&&ace.settings.set("sidebar","fixed")}else{ace.removeClass(s,"sidebar-fixed");var a=document.getElementById("menu-toggler");a&&ace.removeClass(a,"fixed"),t!==!1&&ace.settings.unset("sidebar","fixed")}try{document.getElementById("ace-settings-sidebar").checked=e}catch(o){}window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_fixed",e])},breadcrumbs_fixed:function(e,t,i){var s=document.getElementById("breadcrumbs");if(!s)return!1;e=e||!1,t=t&&!0,e&&i!==!1&&!ace.settings.is("sidebar","fixed")&&ace.settings.sidebar_fixed(!0,t),e?(ace.hasClass(s,"breadcrumbs-fixed")||ace.addClass(s,"breadcrumbs-fixed"),t!==!1&&ace.settings.set("breadcrumbs","fixed")):(ace.removeClass(s,"breadcrumbs-fixed"),t!==!1&&ace.settings.unset("breadcrumbs","fixed"));try{document.getElementById("ace-settings-breadcrumbs").checked=e}catch(n){}window.jQuery&&jQuery(document).trigger("settings.ace",["breadcrumbs_fixed",e])},main_container_fixed:function(e,t){e=e||!1,t=t&&!0;var i=document.getElementById("main-container");if(!i)return!1;var s=document.getElementById("navbar-container");e?(ace.hasClass(i,"container")||ace.addClass(i,"container"),ace.hasClass(s,"container")||ace.addClass(s,"container"),t!==!1&&ace.settings.set("main-container","fixed")):(ace.removeClass(i,"container"),ace.removeClass(s,"container"),t!==!1&&ace.settings.unset("main-container","fixed"));try{document.getElementById("ace-settings-add-container").checked=e}catch(n){}if(navigator.userAgent.match(/webkit/i)){var a=document.getElementById("sidebar");ace.toggleClass(a,"menu-min"),setTimeout(function(){ace.toggleClass(a,"menu-min")},0)}window.jQuery&&jQuery(document).trigger("settings.ace",["main_container_fixed",e])},sidebar_collapsed:function(e,t){var i=document.getElementById("sidebar");if(!i)return!1;e=e||!1;var s,n,a=ace.isHTTMlElement(this)?this:i.querySelector(".sidebar-collapse"),o=a?a.querySelector(ace.vars[".icon"]):null;o&&(s=o.getAttribute("data-icon1"),n=o.getAttribute("data-icon2")),e?(ace.addClass(i,"menu-min"),o&&(ace.removeClass(o,s),ace.addClass(o,n)),t!==!1&&ace.settings.set("sidebar","collapsed")):(ace.removeClass(i,"menu-min"),o&&(ace.removeClass(o,n),ace.addClass(o,s)),t!==!1&&ace.settings.unset("sidebar","collapsed")),window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_collapsed",e])}},ace.settings.check=function(e,t){if(ace.settings.exists(e,t)){var i=ace.settings.is(e,t),s={"navbar-fixed":"navbar-fixed-top","sidebar-fixed":"sidebar-fixed","breadcrumbs-fixed":"breadcrumbs-fixed","sidebar-collapsed":"menu-min","main-container-fixed":"container"},n=document.getElementById(e);i!=ace.hasClass(n,s[e+"-"+t])&&ace.settings[e.replace("-","_")+"_"+t](i)}},ace.data_storage=function(e,t){var i="ace_",s=null,n=0;(1==e||e===t)&&"localStorage"in window&&null!==window.localStorage?(s=ace.storage,n=1):null==s&&(2==e||e===t)&&"cookie"in document&&null!==document.cookie&&(s=ace.cookie,n=2),this.set=function(e,t,a,o){if(s)if(a===o)a=t,t=e,null==a?s.remove(i+t):1==n?s.set(i+t,a):2==n&&s.set(i+t,a,ace.config.cookie_expiry);else if(1==n)null==a?s.remove(i+e+"_"+t):s.set(i+e+"_"+t,a);else if(2==n){var r=s.get(i+e),l=r?JSON.parse(r):{};if(null==a){if(delete l[t],0==ace.sizeof(l))return void s.remove(i+e)}else l[t]=a;s.set(i+e,JSON.stringify(l),ace.config.cookie_expiry)}},this.get=function(e,t,a){if(!s)return null;if(t===a)return t=e,s.get(i+t);if(1==n)return s.get(i+e+"_"+t);if(2==n){var o=s.get(i+e),r=o?JSON.parse(o):{};return t in r?r[t]:null}},this.remove=function(e,t,i){s&&(t===i?(t=e,this.set(t,null)):this.set(e,t,null))}},ace.cookie={get:function(e){var t,i,s=document.cookie,n=e+"=";if(s){if(i=s.indexOf("; "+n),-1==i){if(i=s.indexOf(n),0!=i)return null}else i+=2;return t=s.indexOf(";",i),-1==t&&(t=s.length),decodeURIComponent(s.substring(i+n.length,t))}},set:function(e,t,i,s,n,a){var o=new Date;"object"==typeof i&&i.toGMTString?i=i.toGMTString():parseInt(i,10)?(o.setTime(o.getTime()+1e3*parseInt(i,10)),i=o.toGMTString()):i="",document.cookie=e+"="+encodeURIComponent(t)+(i?"; expires="+i:"")+(s?"; path="+s:"")+(n?"; domain="+n:"")+(a?"; secure":"")},remove:function(e,t){this.set(e,"",-1e3,t)}},ace.storage={get:function(e){return window.localStorage.getItem(e)},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)}},ace.sizeof=function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t},ace.hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},ace.addClass=function(e,t){if(!ace.hasClass(e,t)){var i=e.className;e.className=i+(i.length?" ":"")+t}},ace.removeClass=function(e,t){ace.replaceClass(e,t)},ace.replaceClass=function(e,t,i){var s=new RegExp("(^|\\s)"+t+"(\\s|$)","i");e.className=e.className.replace(s,function(e,t,s){return i?t+i+s:" "}).replace(/^\s+|\s+$/g,"")},ace.toggleClass=function(e,t){ace.hasClass(e,t)?ace.removeClass(e,t):ace.addClass(e,t)},ace.isHTTMlElement=function(e){return window.HTMLElement?e instanceof HTMLElement:"nodeType"in e?1==e.nodeType:!1},ace.data=new ace.data_storage(ace.config.storage_method),!function(e,t){var i=function(t,i){function s(e){e.preventDefault(),e.stopPropagation();var t=_.offset(),i=t[c],s=m?e.pageY:e.pageX;s>i+T?(T=s-i-E+I,T>A&&(T=A)):(T=s-i-I,0>T&&(T=0)),r.update_scroll()}function n(t){t.preventDefault(),t.stopPropagation(),R=$=m?t.pageY:t.pageX,M=!0,e("html").off("mousemove.ace_scroll").on("mousemove.ace_scroll",a),e(z).off("mouseup.ace_scroll").on("mouseup.ace_scroll",o),_.addClass("active"),L&&r.$element.trigger("drag.start")}function a(e){e.preventDefault(),e.stopPropagation(),R=m?e.pageY:e.pageX,R-$+T>A?R=$+A-T:0>R-$+T&&(R=$-T),T+=R-$,$=R,0>T?T=0:T>A&&(T=A),r.update_scroll()}function o(t){t.preventDefault(),t.stopPropagation(),M=!1,e("html").off(".ace_scroll"),e(z).off(".ace_scroll"),_.removeClass("active"),L&&r.$element.trigger("drag.end")}var r=this,l=e.extend({},e.fn.ace_scroll.defaults,i);this.size=0,this.$element=e(t),this.element=t;var c,h,d,u,f,p,m=!0,v=!1,g=!1,b=!1,w=null,y=null,_=null,x=null,C=null,S=null,k=null,E=0,T=0,A=0,I=0,D=!0,O=!1,j=1,P=!1,M=!1,z="onmouseup"in window?window:"html",L=l.dragEvent||!1,H=i.scrollEvent||!1;this.create=function(t){if(!b){if(t&&(l=e.extend({},e.fn.ace_scroll.defaults,t)),this.size=parseInt(this.$element.attr("data-size"))||l.size||200,m=!l.horizontal,c=m?"top":"left",h=m?"height":"width",d=m?"maxHeight":"maxWidth",u=m?"clientHeight":"clientWidth",f=m?"scrollTop":"scrollLeft",p=m?"scrollHeight":"scrollWidth",this.$element.addClass("ace-scroll "+((m?"":" scroll-hz")+(l.styleClass?" "+l.styleClass:""))),"static"==this.$element.css("position")?(P=this.element.style.position,this.element.style.position="relative"):P=!1,this.$element.wrapInner('<div class="scroll-content" />'),this.$element.prepend('<div class="scroll-track"><div class="scroll-bar"></div></div>'),w=this.$element.find(".scroll-content").eq(0),m||w.wrapInner("<div />"),y=w.get(0),_=this.$element.find(".scroll-track").eq(0),x=_.find(".scroll-bar").eq(0),C=_.get(0),S=x.get(0),k=S.style,_.hide(),_.on("mousedown",s),x.on("mousedown",n),w.on("scroll",function(){D&&(T=parseInt(Math.round(this[f]*j)),k[c]=T+"px"),D=!1,H&&this.$element.trigger("scroll",[y])}),l.mouseWheel){var i=l.mouseWheelLock,a=l.lockAnyway;this.$element.on("mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(t){if(!v){if(!g)return!a;M&&(M=!1,e("html").off(".ace_scroll"),e(z).off(".ace_scroll"),L&&r.$element.trigger("drag.end"));var s=t.originalEvent.detail<0||t.originalEvent.wheelDelta>0?1:-1,n=!1,o=y[u],l=y[f];i||(n=-1==s?y[p]<=l+o:0==l),r.move_bar(!0);var c=parseInt(Math.round(Math.min(Math.max(o/8,54)),r.size))+1;return y[f]=l-s*c,n&&!a}})}var o=ace.vars.touch&&"ace_drag"in e.event.special&&l.touchDrag;if(o){var E="",A=o?"ace_drag":"swipe";this.$element.on(A+".ace_scroll",function(e){if(v)return void(e.retval.cancel=!0);if(!g)return void(e.retval.cancel=a);if(E=e.direction,m&&("up"==E||"down"==E)||!m&&("left"==E||"right"==E)){var t=m?e.dy:e.dx;0!=t&&(Math.abs(t)>20&&o&&(t=2*t),r.move_bar(!0),y[f]=y[f]+t)}})}l.hoverReset&&this.$element.on("mouseenter.ace_scroll touchstart.ace_scroll",function(){r.reset()}),m||w.children(0).css(h,this.size),w.css(d,this.size),v=!1,b=!0}},this.is_active=function(){return g},this.is_enabled=function(){return!v},this.move_bar=function(e){D=e},this.reset=function(){if(!v){b||this.create();var e=m?y[p]:this.size;if(m&&0==e||!m&&0==this.element.scrollWidth)return void this.$element.removeClass("scroll-active");var t=m?this.size:y.clientWidth;m||w.children(0).css(h,this.size),w.css(d,this.size),e>t?(g=!0,_.css(h,t).show(),j=parseFloat((t/e).toFixed(5)),E=parseInt(Math.round(t*j)),I=parseInt(Math.round(E/2)),A=t-E,T=parseInt(Math.round(y[f]*j)),k[h]=E+"px",k[c]=T+"px",this.$element.addClass("scroll-active"),O||(l.reset&&(y[f]=0,k[c]=0),O=!0)):(g=!1,_.hide(),this.$element.removeClass("scroll-active"),w.css(d,""))}},this.disable=function(){return y[f]=0,k[c]=0,v=!0,g=!1,_.hide(),this.$element.removeClass("scroll-active"),w.css(d,""),this},this.enable=function(){return v=!1,this.reset(),this},this.destroy=function(){return g=!1,v=!1,b=!1,this.$element.removeClass("ace-scroll scroll-hz"+(l.extraClass?" "+l.extraClass:"")),this.$element.off(".ace_scroll"),m||w.find("> div").children().unwrap(),w.children().unwrap(),w.remove(),_.remove(),P!==!1&&(this.element.style.position=P),this},this.modify=function(t){return t&&(l=e.extend({},e.fn.ace_scroll.defaults,t)),this.destroy(),this.create(),this.reset(),this},this.update=function(e){return this.size=e.size,this},this.update_scroll=function(){D=!1,k[c]=T+"px",y[f]=parseInt(Math.round(T/j))};var $=-1,R=-1;return this.create(),this.reset(),this};e.fn.ace_scroll=function(s,n){var a,o=this.each(function(){var t=e(this),o=t.data("ace_scroll"),r="object"==typeof s&&s;o||t.data("ace_scroll",o=new i(this,r)),"string"==typeof s&&(a=o[s](n))});return a===t?o:a},e.fn.ace_scroll.defaults={size:200,horizontal:!1,mouseWheel:!0,mouseWheelLock:!1,lockAnyway:!1,styleClass:!1,hoverReset:!0,reset:!1,dragEvent:!1,touchDrag:!0,touchSwipe:!1,scrollEvent:!1}}(window.jQuery),function(e,t){var i=function(t,i){var s=e.extend({},e.fn.ace_colorpicker.defaults,i),n=e(t),a="",o="",r=null,l=[];n.addClass("hide").find("option").each(function(){var e="colorpick-btn",t=this.value.replace(/[^\w\s,#\(\)\.]/g,"");this.value!=t&&(this.value=t),this.selected&&(e+=" selected",o=t),l.push(t),a+='<li><a class="'+e+'" href="#" style="background-color:'+t+';" data-color="'+t+'"></a></li>'}).end().on("change.color",function(){n.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">		<a data-toggle="dropdown" class="dropdown-toggle" '+(s.auto_pos?'data-position="auto"':"")+' href="#"><span class="btn-colorpicker" style="background-color:'+o+'"></span></a><ul class="dropdown-menu'+(s.caret?" dropdown-caret":"")+(s.pull_right?" dropdown-menu-right":"")+'">'+a+"</ul></div>");var c=n.next().find(".dropdown-menu");c.on(ace.click_event,function(t){var i=e(t.target);if(!i.is(".colorpick-btn"))return!1;r&&r.removeClass("selected"),r=i,r.addClass("selected");var s=r.data("color");return n.val(s).trigger("change"),t.preventDefault(),!0}),r=n.next().find("a.selected"),this.pick=function(i,s){if("number"==typeof i){if(i>=l.length)return;t.selectedIndex=i,c.find("a:eq("+i+")").trigger(ace.click_event)}else if("string"==typeof i){var a=i.replace(/[^\w\s,#\(\)\.]/g,"");if(i=l.indexOf(a),-1==i&&s===!0&&(l.push(a),e("<option />").appendTo(n).val(a),e('<li><a class="colorpick-btn" href="#"></a></li>').appendTo(c).find("a").css("background-color",a).data("color",a),i=l.length-1),-1==i)return;c.find("a:eq("+i+")").trigger(ace.click_event)}},this.destroy=function(){n.removeClass("hide").off("change.color").next().remove(),l=[]}};e.fn.ace_colorpicker=function(s,n){var a,o=this.each(function(){var t=e(this),o=t.data("ace_colorpicker"),r="object"==typeof s&&s;o||t.data("ace_colorpicker",o=new i(this,r)),"string"==typeof s&&(a=o[s](n))});return a===t?o:a},e.fn.ace_colorpicker.defaults={pull_right:!1,caret:!0,auto_pos:!0}}(window.jQuery),function(e,t){var i="multiple"in document.createElement("INPUT"),s="FileList"in window,n="FileReader"in window,a="File"in window,o=function(t,i){var s=this;this.settings=e.extend({},e.fn.ace_file_input.defaults,i),this.$element=e(t),this.element=t,this.disabled=!1,this.can_reset=!0,this.$element.off("change.ace_inner_call").on("change.ace_inner_call",function(e,t){return s.disabled||t===!0?void 0:l.call(s)});var n=this.$element.closest("label").css({display:"block"}),a=0==n.length?"label":"span";this.$element.wrap("<"+a+' class="ace-file-input" />'),this.apply_settings(),this.reset_input_field()};o.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},o.prototype.apply_settings=function(){var t=this;this.multi=this.$element.attr("multiple")&&i,this.well_style="well"==this.settings.style,this.well_style?this.$element.parent().addClass("ace-file-multiple"):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<span class="ace-file-container" data-title="'+this.settings.btn_choose+'"><span class="ace-file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+ace.vars.icon+this.settings.no_icon+'"></i>':"")+"</span></span>"),this.$label=this.$element.next(),this.$container=this.$element.closest(".ace-file-input");var n=!!this.settings.icon_remove;if(n){var a=e('<a class="remove" href="#"><i class="'+ace.vars.icon+this.settings.icon_remove+'"></i></a>').appendTo(this.$element.parent());a.on(ace.click_event,function(e){if(e.preventDefault(),!t.can_reset)return!1;var i=!0;return t.settings.before_remove&&(i=t.settings.before_remove.call(t.element)),i?(t.reset_input(),!1):!1})}this.settings.droppable&&s&&r.call(this)},o.prototype.show_file_list=function(t){var i="undefined"==typeof t?this.$element.data("ace_input_files"):t;if(i&&0!=i.length){this.well_style&&(this.$label.find(".ace-file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var s=0;s<i.length;s++){var a="string"==typeof i[s]?i[s]:e.trim(i[s].name),o=a.lastIndexOf("\\")+1;0==o&&(o=a.lastIndexOf("/")+1),a=a.substr(o);var r="fa fa-file",l="file";if(/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(a)?(r="fa fa-picture-o file-image",l="image"):/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(a)?(r="fa fa-film file-video",l="video"):/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(a)&&(r="fa fa-music file-audio",l="audio"),this.well_style){this.$label.append('<span class="ace-file-name" data-title="'+a+'"><i class="'+ace.vars.icon+r+'"></i></span>');var h=e.trim(i[s].type),d=n&&this.settings.thumbnail&&(h.length>0&&h.match("image")||0==h.length&&"image"==l);if(d){var u=this;e.when(c.call(this,i[s])).fail(function(e){u.settings.preview_error&&u.settings.preview_error.call(u,a,e.code)})}}else this.$label.find(".ace-file-name").attr({"data-title":a}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+r)}return!0}},o.prototype.reset_input=function(){this.reset_input_ui(),this.reset_input_field()},o.prototype.reset_input_ui=function(){this.$label.attr({"data-title":this.settings.btn_choose,"class":"ace-file-container"}).find(".ace-file-name:first").attr({"data-title":this.settings.no_file,"class":"ace-file-name"}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find(ace.vars[".icon"]).remove(),this.$label.find(".ace-file-name").not(":first").remove(),this.reset_input_data()},o.prototype.reset_input_field=function(){this.$element.wrap("<form>").parent().get(0).reset(),this.$element.unwrap()},o.prototype.reset_input_data=function(){this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method"))},o.prototype.enable_reset=function(e){this.can_reset=e},o.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},o.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},o.prototype.files=function(){return e(this).data("ace_input_files")||null},o.prototype.method=function(){return e(this).data("ace_input_method")||""},o.prototype.update_settings=function(t){this.settings=e.extend({},this.settings,t),this.apply_settings()},o.prototype.loading=function(t){if(t===!1)this.$container.find(".ace-file-overlay").remove(),this.element.removeAttribute("readonly");else{var i="string"==typeof t?t:'<i class="overlay-content fa fa-spin fa-spinner orange2 fa-2x"></i>',s=this.$container.find(".ace-file-overlay");0==s.length&&(s=e('<div class="ace-file-overlay"></div>').appendTo(this.$container),s.on("click tap",function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),this.element.setAttribute("readonly","true")),s.empty().append(i)}};var r=function(){var e=this,t=this.$element.parent();t.off("dragenter").on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}).off("dragover").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).off("drop").on("drop",function(t){if(t.preventDefault(),t.stopPropagation(),!e.disabled){var i=t.originalEvent.dataTransfer,s=i.files;if(!e.multi&&s.length>1){var n=[];n.push(s[0]),s=n}return s=d.call(e,s,!0),s===!1?!1:(e.$element.data("ace_input_method","drop"),e.$element.data("ace_input_files",s),e.show_file_list(s),e.$element.triggerHandler("change",[!0]),!0)}})},l=function(){var e=this.element.files||[this.element.value];return e=d.call(this,e,!1),e===!1?!1:(this.$element.data("ace_input_method","select"),this.$element.data("ace_input_files",e),this.show_file_list(e),!0)},c=function(t){var i=this,s=i.$label.find(".ace-file-name:last"),n=new e.Deferred,a=new FileReader;return a.onload=function(a){s.prepend("<img class='middle' style='display:none;' />");var r=s.find("img:last").get(0);e(r).one("load",function(){var a=50;"large"==i.settings.thumbnail?a=150:"fit"==i.settings.thumbnail&&(a=s.width()),s.addClass(a>50?"large":"");var l=h(r,a,t.type);if(null==l)return e(this).remove(),void n.reject({code:o.error.THUMBNAIL_FAILED});var c=l.w,d=l.h;"small"==i.settings.thumbnail&&(c=d=a),e(r).css({"background-image":"url("+l.src+")",width:c,height:d}).data("thumb",l.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show(),n.resolve()}).one("error",function(){s.find("img").remove(),n.reject({code:o.error.IMAGE_LOAD_FAILED})}),r.src=a.target.result},a.onerror=function(){n.reject({code:o.error.FILE_LOAD_FAILED})},a.readAsDataURL(t),n.promise()},h=function(t,i){var s=t.width,n=t.height;s=s>0?s:e(t).width(),n=n>0?n:e(t).height(),(s>i||n>i)&&(s>n?(n=parseInt(i/s*n),s=i):(s=parseInt(i/n*s),n=i));var a;try{var o=document.createElement("canvas");o.width=s,o.height=n;var r=o.getContext("2d");r.drawImage(t,0,0,t.width,t.height,0,0,s,n),a=o.toDataURL()}catch(l){a=null}return a?(/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(a)||(a=null),a?{src:a,w:s,h:n}:null):null},d=function(e,t){var i=p.call(this,e,t);return-1===i?(this.reset_input(),!1):i&&0!=i.length?((i instanceof Array||s&&i instanceof FileList)&&(e=i),i=!0,this.settings.before_change&&(i=this.settings.before_change.call(this.element,e,t)),-1===i?(this.reset_input(),!1):i&&0!=i.length?((i instanceof Array||s&&i instanceof FileList)&&(e=i),e):(this.$element.data("ace_input_files")||this.reset_input(),!1)):(this.$element.data("ace_input_files")||this.reset_input(),!1)},u=function(e){return e?("string"==typeof e&&(e=[e]),0==e.length?null:new RegExp(".(?:"+e.join("|")+")$","i")):null},f=function(e){return e?("string"==typeof e&&(e=[e]),0==e.length?null:new RegExp("^(?:"+e.join("|").replace(/\//g,"\\/")+")$","i")):null},p=function(t,i){var s=u(this.settings.allowExt),n=u(this.settings.denyExt),o=f(this.settings.allowMime),r=f(this.settings.denyMime),l=this.settings.maxSize||!1;if(!(s||n||o||r||l))return!0;for(var c=[],h={},d=0;d<t.length;d++){var p=t[d],m=a?p.name:p;if(!s||s.test(m))if(n&&n.test(m))"ext"in h||(h.ext=[]),h.ext.push(m);else{var v;if(a){if((v=e.trim(p.type)).length>0){if(o&&!o.test(v)){"mime"in h||(h.mime=[]),h.mime.push(m);continue}if(r&&r.test(v)){"mime"in h||(h.mime=[]),h.mime.push(m);continue}}l&&p.size>l?("size"in h||(h.size=[]),h.size.push(m)):c.push(p)}else c.push(p)}else"ext"in h||(h.ext=[]),h.ext.push(m)}if(c.length==t.length)return t;var g={ext:0,mime:0,size:0};"ext"in h&&(g.ext=h.ext.length),"mime"in h&&(g.mime=h.mime.length),"size"in h&&(g.size=h.size.length);var b;return this.$element.trigger(b=new e.Event("file.error.ace"),{file_count:t.length,invalid_count:t.length-c.length,error_list:h,error_count:g,dropped:i}),b.isDefaultPrevented()?-1:c};e.fn.ace_file_input=function(i,s){var n,a=this.each(function(){var t=e(this),a=t.data("ace_file_input"),r="object"==typeof i&&i;a||t.data("ace_file_input",a=new o(this,r)),"string"==typeof i&&(n=a[i](s))});return n===t?a:n},e.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"fa fa-upload",btn_choose:"Choose",btn_change:"Change",icon_remove:"fa fa-times",droppable:!1,thumbnail:!1,allowExt:null,denyExt:null,allowMime:null,denyMime:null,maxSize:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.bs_typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var i=this;return t=e.grep(t,function(e){return i.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],s=[],n=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?s.push(t):n.push(t):i.push(t);return i.concat(s,n)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var i=this;return t=e(t).map(function(t,s){return t=e(i.options.item).attr("data-value",s),t.find("a").html(i.highlighter(s)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),i=t.next();i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=e.fn.bs_typeahead;e.fn.bs_typeahead=function(i){return this.each(function(){var s=e(this),n=s.data("bs_typeahead"),a="object"==typeof i&&i;n||s.data("bs_typeahead",n=new t(this,a)),"string"==typeof i&&n[i]()})},e.fn.bs_typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.bs_typeahead.Constructor=t,e.fn.bs_typeahead.noConflict=function(){return e.fn.bs_typeahead=i,this},e(document).on("focus.bs_typeahead.data-api",'[data-provide="bs_typeahead"]',function(){var t=e(this);t.data("bs_typeahead")||t.bs_typeahead(t.data())})}(window.jQuery),function(e){e.fn.ace_wysiwyg=function(t){var i=e.extend({speech_button:!0,wysiwyg:{}},t),s=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],n={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"fa fa-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"fa fa-text-height",title:"Font Size"},bold:{icon:"fa fa-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"fa fa-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"fa fa-strikethrough",title:"Strikethrough"},underline:{icon:"fa fa-underline",title:"Underline"},insertunorderedlist:{icon:"fa fa-list-ul",title:"Bullet list"},insertorderedlist:{icon:"fa fa-list-ol",title:"Number list"},outdent:{icon:"fa fa-outdent",title:"Reduce indent (Shift+Tab)"},indent:{icon:"fa fa-indent",title:"Indent (Tab)"},justifyleft:{icon:"fa fa-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"fa fa-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"fa fa-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"fa fa-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"fa fa-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"fa fa-chain-broken",title:"Remove Hyperlink"},insertImage:{icon:"fa fa-picture-o",title:"Insert picture",button_text:'<i class="'+ace.vars.icon+'fa fa-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:s,title:"Change Color"},backColor:{values:s,title:"Change Background Color"},undo:{icon:"fa fa-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"fa fa-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"fa fa-code",title:"View Source"}},a=i.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var t=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];if(null===o){t+=' </div> <div class="btn-group"> ';continue}if("string"==typeof o&&o in n)o=n[o],o.name=a[s];else{if(!("object"==typeof o&&o.name in n))continue;o=e.extend(n[o.name],o)}var r="className"in o?o.className:"btn-default";switch(o.name){case"font":t+=' <a class="btn btn-sm '+r+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i><i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light dropdown-caret">';for(var l in o.values)o.values.hasOwnProperty(l)&&(t+=' <li><a data-edit="fontName '+o.values[l]+'" style="font-family:\''+o.values[l]+"'\">"+o.values[l]+"</a></li> ");t+=" </ul>";break;case"fontSize":t+=' <a class="btn btn-sm '+r+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i>&nbsp;<i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light dropdown-caret"> ';for(var c in o.values)o.values.hasOwnProperty(c)&&(t+=' <li><a data-edit="fontSize '+c+'"><font size="'+c+'">'+o.values[c]+"</font></a></li> ");t+=" </ul> ";break;case"createLink":t+=' <div class="btn-group"> <a class="btn btn-sm '+r+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">							 <div class="input-group">								<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+o.button_class+'" type="button">'+o.button_text+"</button>								</span>							 </div>						</div> </div>";break;case"insertImage":t+=' <div class="btn-group"> <a class="btn btn-sm '+r+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">							 <div class="input-group">								<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+o.button_insert_class+'" type="button">'+o.button_insert+"</button>								</span>							 </div>",
o.choose_file&&"FileReader"in window&&(t+='<div class="space-2"></div>							 <label class="center block no-margin-bottom">								<button class="btn btn-sm '+o.button_class+' wysiwyg-choose-file" type="button">'+o.button_text+'</button>								<input type="file" data-edit="'+o.name+'" />							  </label>'),t+=" </div> </div>";break;case"foreColor":case"backColor":t+=' <select class="hide wysiwyg_colorpicker" title="'+o.title+'"> ';for(var h in o.values)t+=' <option value="'+o.values[h]+'">'+o.values[h]+"</option> ";t+=" </select> ",t+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+o.name+'" /> ';break;case"viewSource":t+=' <a class="btn btn-sm '+r+'" data-view="source" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> ';break;default:t+=' <a class="btn btn-sm '+r+'" data-edit="'+o.name+'" title="'+o.title+'"><i class="'+ace.vars.icon+o.icon+'"></i></a> '}}t+=" </div> ";var d;i.speech_button&&"onwebkitspeechchange"in(d=document.createElement("input"))&&(t+=' <input class="wysiwyg-speech-input" type="text" data-edit="inserttext" x-webkit-speech />'),d=null,t+=" </div> ",t=i.toolbar_place?i.toolbar_place.call(this,t):e(this).before(t).prev(),t.find("a[title]").tooltip({animation:!1,container:"body"}),t.find(".dropdown-menu input[type=text]").on("click",function(){return!1}).on("change",function(){e(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(t){27==t.which?(this.value="",e(this).change()):13==t.which&&(t.preventDefault(),t.stopPropagation(),e(this).change())}),t.find("input[type=file]").prev().on(ace.click_event,function(){e(this).next().click()}),t.find(".wysiwyg_colorpicker").each(function(){e(this).ace_colorpicker({pull_right:!0}).change(function(){e(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker").tooltip({title:this.title,animation:!1,container:"body"})});var u=e(this),f=!1;t.find("a[data-view=source]").on("click",function(t){if(t.preventDefault(),f){var i=u.next();u.html(i.val()).show(),i.remove(),e(this).removeClass("active")}else e("<textarea />").css({width:u.outerWidth(),height:u.outerHeight()}).val(u.html()).insertAfter(u),u.hide(),e(this).addClass("active");f=!f});var p=e.extend({},{activeToolbarClass:"active",toolbarSelector:t},i.wysiwyg||{});e(this).wysiwyg(p)}),this}}(window.jQuery),function(e,t){function i(t,i){var s=i.max;s=(""+s).length;var n=parseInt(Math.max(20*s+40,90)),a=e(t);a.addClass("spinner-input form-control").wrap('<div class="ace-spinner">');var o=a.closest(".ace-spinner").spinner(i).wrapInner("<div class='input-group'></div>"),r=o.data("spinner");i.on_sides?(a.before('<div class="spinner-buttons input-group-btn">					<button type="button" class="btn spinner-down btn-xs '+i.btn_down_class+'">						<i class="'+ace.vars.icon+i.icon_down+'"></i>					</button>				</div>').after('<div class="spinner-buttons input-group-btn">					<button type="button" class="btn spinner-up btn-xs '+i.btn_up_class+'">						<i class="'+ace.vars.icon+i.icon_up+'"></i>					</button>				</div>'),o.addClass("touch-spinner"),o.css("width",n+"px")):(a.after('<div class="spinner-buttons input-group-btn">					<button type="button" class="btn spinner-up btn-xs '+i.btn_up_class+'">						<i class="'+ace.vars.icon+i.icon_up+'"></i>					</button>					<button type="button" class="btn spinner-down btn-xs '+i.btn_down_class+'">						<i class="'+ace.vars.icon+i.icon_down+'"></i>					</button>				</div>'),ace.vars.touch||i.touch_spinner?(o.addClass("touch-spinner"),o.css("width",n+"px")):(a.next().addClass("btn-group-vertical"),o.css("width",n+"px"))),a.on("mousewheel.spinner DOMMouseScroll.spinner",function(e){var t=e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?1:-1;return r.step(t>0),r.triggerChangedEvent(),!1}),o.on("changed",function(){a.trigger("change")}),this._call=function(e,t){r[e](t)}}e.fn.ace_spinner=function(s,n){var a,o=this.each(function(){var t=e(this),o=t.data("ace_spinner"),r="object"==typeof s&&s;o||(r=e.extend({},e.fn.ace_spinner.defaults,s),t.data("ace_spinner",o=new i(this,r))),"string"==typeof s&&(a=o._call(s,n))});return a===t?o:a},e.fn.ace_spinner.defaults={icon_up:"fa fa-chevron-up",icon_down:"fa fa-chevron-down",on_sides:!1,btn_up_class:"",btn_down_class:"",max:999,touch_spinner:!1}}(window.jQuery),function(e){var t={"open-icon":ace.vars.icon+"fa fa-folder-open","close-icon":ace.vars.icon+"fa fa-folder",selectable:!0,"selected-icon":ace.vars.icon+"fa fa-check","unselected-icon":ace.vars.icon+"fa fa-times"};e.fn.ace_tree=function(i){return t=e.extend({},t,i),this.each(function(){var i=e(this);i.html('<div class="tree-folder" style="display:none;">				<div class="tree-folder-header">					<i class="'+ace.vars.icon+t["close-icon"]+'"></i>					<div class="tree-folder-name"></div>				</div>				<div class="tree-folder-content"></div>				<div class="tree-loader" style="display:none"></div>			</div>			<div class="tree-item" style="display:none;">				'+(null==t["unselected-icon"]?"":'<i class="'+ace.vars.icon+t["unselected-icon"]+'"></i>')+'				<div class="tree-item-name"></div>			</div>'),i.addClass(1==t.selectable?"tree-selectable":"tree-unselectable"),i.tree(t)}),this}}(window.jQuery),function(e){e.fn.ace_wizard=function(t){return this.each(function(){var i=e(this);i.wizard();var s=i.siblings(".wizard-actions").eq(0),n=i.data("wizard");n.$prevBtn.remove(),n.$nextBtn.remove(),n.$prevBtn=s.find(".btn-prev").eq(0).on(ace.click_event,function(){n.previous()}).attr("disabled","disabled"),n.$nextBtn=s.find(".btn-next").eq(0).on(ace.click_event,function(){n.next()}).removeAttr("disabled"),n.nextText=n.$nextBtn.text();var a=t&&(t.selectedItem&&t.selectedItem.step||t.step);a&&(n.currentStep=a,n.setState())}),this}}(window.jQuery),"ace"in window||(window.ace={}),"helper"in window.ace||(window.ace.helper={}),"options"in window.ace||(window.ace.options={}),"vars"in window.ace||(window.ace.vars={icon:" ace-icon ",".icon":".ace-icon"}),ace.vars.touch="ontouchstart"in document.documentElement,jQuery(function(e){ace.click_event=ace.vars.touch&&e.fn.tap?"tap":"click";var t=navigator.userAgent;ace.vars.webkit=!!t.match(/AppleWebKit/i),ace.vars.safari=!!t.match(/Safari/i)&&!t.match(/Chrome/i),ace.vars.android=ace.vars.safari&&!!t.match(/Android/i),ace.vars.ios_safari=!!t.match(/OS ([4-9])(_\d)+ like Mac OS X/i)&&!t.match(/CriOS/i),ace.vars.old_ie=document.all&&!document.addEventListener,ace.vars.non_auto_fixed=ace.vars.android||ace.vars.ios_safari,ace.vars.non_auto_fixed&&e("body").addClass("mob-safari");var i=document.documentElement.style;ace.vars.transition="transition"in i||"WebkitTransition"in i||"MozTransition"in i||"OTransition"in i;var s={general_vars:null,add_touch_drag:null,general_things:null,handle_side_menu:null,sidebar_scrollable:{scroll_to_active:!0,include_shortcuts:!0,include_toggle:ace.vars.safari||ace.vars.ios_safari,smooth_scroll:200,outside:!1},sidebar_hoverable:{sub_scroll:!1},widget_boxes:null,widget_reload_handler:null,settings_box:null,settings_rtl:null,settings_skin:null,enable_searchbox_autocomplete:null,auto_hide_sidebar:!1,auto_padding:!1,auto_container:!1};for(var n in s)if(n in ace){var a=s[n];a!==!1&&(null===a?a=[jQuery]:a instanceof Array?a.unshift(jQuery):a=[jQuery,a],ace[n].apply(null,a))}}),ace.general_vars=function(e){var t="menu-min",i="responsive-min",s="h-sidebar",n=e("#sidebar").eq(0);ace.vars.mobile_style=1,n.hasClass("responsive")&&!e("#menu-toggler").hasClass("navbar-toggle")?ace.vars.mobile_style=2:n.hasClass(i)?ace.vars.mobile_style=3:n.hasClass("navbar-collapse")&&(ace.vars.mobile_style=4),e(window).on("resize.ace.vars",function(){ace.vars.window={width:parseInt(e(this).width()),height:parseInt(e(this).height())},ace.vars.mobile_view=ace.vars.mobile_style<4&&ace.helper.mobile_view(),ace.vars.collapsible=!ace.vars.mobile_view&&ace.helper.collapsible(),ace.vars.nav_collapse=(ace.vars.collapsible||ace.vars.mobile_view)&&e("#navbar").hasClass("navbar-collapse");var n=e(document.getElementById("sidebar"));ace.vars.minimized=!ace.vars.collapsible&&n.hasClass(t)||3==ace.vars.mobile_style&&ace.vars.mobile_view&&n.hasClass(i),ace.vars.horizontal=!(ace.vars.mobile_view||ace.vars.collapsible)&&n.hasClass(s)}).triggerHandler("resize.ace.vars")},ace.general_things=function(e){var t=!!e.fn.ace_scroll;t&&e(".dropdown-content").ace_scroll({reset:!1,mouseWheelLock:!0}),e(window).on("resize.reset_scroll",function(){t&&e(".ace-scroll").ace_scroll("reset")}),t&&e(document).on("settings.ace.reset_scroll",function(t,i){"sidebar_collapsed"==i&&e(".ace-scroll").ace_scroll("reset")}),e(document).on("click.dropdown.pos",'.dropdown-toggle[data-position="auto"]',function(){var t=e(this).offset(),i=e(this.parentNode);parseInt(t.top+e(this).height())+50>ace.helper.scrollTop()+ace.helper.winHeight()-i.find(".dropdown-menu").eq(0).height()?i.addClass("dropup"):i.removeClass("dropup")}),e(document).on("click",".dropdown-navbar .nav-tabs",function(t){t.stopPropagation();var i;t.target,(i=e(t.target).closest("[data-toggle=tab]"))&&i.length>0&&(i.tab("show"),t.preventDefault())}),e('.ace-nav [class*="icon-animated-"]').closest("a").one("click",function(){var t=e(this).find('[class*="icon-animated-"]').eq(0),i=t.attr("class").match(/icon\-animated\-([\d\w]+)/);t.removeClass(i[0])}),e(".sidebar .nav-list .badge[title],.sidebar .nav-list .badge[title]").each(function(){var t=e(this).attr("class").match(/tooltip\-(?:\w+)/);t=t?t[0]:"tooltip-error",e(this).tooltip({placement:function(t,i){var s=e(i).offset();return parseInt(s.left)<parseInt(document.body.scrollWidth/2)?"right":"left"},container:"body",template:'<div class="tooltip '+t+'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})});var i=e(".btn-scroll-up");if(i.length>0){var s=!1;e(window).on("scroll.scroll_btn",function(){var e=ace.helper.scrollTop(),t=ace.helper.winHeight(),n=document.body.scrollHeight;e>parseInt(t/4)||e>0&&n>=t&&t+e>=n-1?s||(i.addClass("display"),s=!0):s&&(i.removeClass("display"),s=!1)}).triggerHandler("scroll.scroll_btn"),i.on(ace.click_event,function(){var t=Math.min(500,Math.max(100,parseInt(ace.helper.scrollTop()/3)));return e("html,body").animate({scrollTop:0},t),!1})}if(ace.vars.webkit){var n=e(".ace-nav").get(0);n&&e(window).on("resize.webkit",function(){ace.helper.redraw(n)})}ace.vars.ios_safari&&e(document).on("ace.settings.ios_fix",function(t,i,s){"navbar_fixed"==i&&(e(document).off("focus.ios_fix blur.ios_fix","input,textarea,.wysiwyg-editor"),1==s&&e(document).on("focus.ios_fix","input,textarea,.wysiwyg-editor",function(){e(window).on("scroll.ios_fix",function(){var t=e("#navbar").get(0);t&&ace.helper.redraw(t)})}).on("blur.ios_fix","input,textarea,.wysiwyg-editor",function(){e(window).off("scroll.ios_fix")}))}).triggerHandler("ace.settings.ios_fix",["navbar_fixed","fixed"==e("#navbar").css("position")])},ace.helper.collapsible=function(){var e;return null!=document.querySelector("#sidebar.navbar-collapse")&&null!=(e=document.querySelector('.navbar-toggle[data-target*=".sidebar"]'))&&e.scrollHeight>0},ace.helper.mobile_view=function(){var e;return null!=(e=document.getElementById("menu-toggler"))&&e.scrollHeight>0},ace.helper.redraw=function(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},ace.helper.scrollTop=function(){return document.scrollTop||document.documentElement.scrollTop||document.body.scrollTop},ace.helper.winHeight=function(){return window.innerHeight||document.documentElement.clientHeight},ace.helper.camelCase=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t?t.toUpperCase():""})},ace.helper.removeStyle="removeProperty"in document.documentElement.style?function(e,t){e.style.removeProperty(t)}:function(e,t){e.style[ace.helper.camelCase(t)]=""},ace.helper.hasClass="classList"in document.documentElement?function(e,t){return e.classList.contains(t)}:function(e,t){return e.className.indexOf(t)>-1},ace.add_touch_drag=function(e){if(ace.vars.touch){var t="touchstart MSPointerDown pointerdown",i="touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",s="touchmove MSPointerMove MSPointerHover pointermove";e.event.special.ace_drag={setup:function(){var n=0,a=e(this);a.on(t,function(t){function o(e){if(c){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;if(r={coords:[t.pageX,t.pageY]},c&&r&&(d=0,u=0,h=Math.abs(u=c.coords[1]-r.coords[1])>n&&Math.abs(d=c.coords[0]-r.coords[0])<=Math.abs(u)?u>0?"up":"down":Math.abs(d=c.coords[0]-r.coords[0])>n&&Math.abs(u)<=Math.abs(d)?d>0?"left":"right":!1,h!==!1)){var i={cancel:!1};c.origin.trigger({type:"ace_drag",direction:h,dx:d,dy:u,retval:i}),0==i.cancel&&e.preventDefault()}c.coords[0]=r.coords[0],c.coords[1]=r.coords[1]}}var r,l=t.originalEvent.touches?t.originalEvent.touches[0]:t,c={coords:[l.pageX,l.pageY],origin:e(t.target)},h=!1,d=0,u=0;a.on(s,o).one(i,function(){a.off(s,o),c=r=void 0})})}}}},ace.handle_side_menu=function(e){var t=e(".sidebar").eq(0);e(document).on(ace.click_event+".ace.menu","#menu-toggler",function(){return t.toggleClass("display"),e(this).toggleClass("display"),e(this).hasClass("display")&&"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset(),!1}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(){ace.vars.collapsible||ace.vars.horizontal||(ace.vars.minimized=!ace.vars.minimized,ace.settings.sidebar_collapsed.call(this,ace.vars.minimized),ace.vars.old_ie&&ace.helper.redraw(t.get(0)))}).on(ace.click_event+".ace.menu",".sidebar-expand",function(){ace.vars.minimized&&ace.settings.sidebar_collapsed.call(this,!1,!1);var i=e(this).find(ace.vars[".icon"]),s=i.attr("data-icon1"),n=i.attr("data-icon2");t.hasClass("responsive-min")?(i.removeClass(s).addClass(n),t.removeClass("responsive-min"),t.addClass("display responsive-max"),ace.vars.minimized=!1):(i.removeClass(n).addClass(s),t.removeClass("display responsive-max"),t.addClass("responsive-min"),ace.vars.minimized=!0),e(document).triggerHandler("settings.ace",["sidebar_collapsed",ace.vars.minimized])});var i=ace.vars.ios_safari;e(document).on(ace.click_event+".ace.submenu",".sidebar .nav-list",function(t){var s=this,n=e(t.target).closest("a");if(n&&0!=n.length){var a=ace.vars.minimized&&!ace.vars.collapsible;if(n.hasClass("dropdown-toggle")){var o=n.siblings(".submenu").get(0);if(!o)return!1;var r=0,l=250,c=o.parentNode.parentNode;if(a&&c==s||e(o.parentNode).hasClass("hover")&&"absolute"==e(o).css("position")&&!ace.vars.collapsible)return t.preventDefault(),!1;0==o.scrollHeight&&e(c).find("> .open > .submenu").each(function(){this==o||e(this.parentNode).hasClass("active")||(r-=this.scrollHeight,ace.submenu.hide(this,l))});var h=0;return 1==(h=ace.submenu.toggle(o,l))?0!=r&&(r+=o.scrollHeight):-1==h&&(r-=o.scrollHeight),0!=r&&"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.prehide(r),t.preventDefault(),!1}if("tap"==ace.click_event&&a&&n.get(0).parentNode.parentNode==s){var d=n.find(".menu-text").get(0);if(t.target!=d&&!e.contains(d,t.target))return t.preventDefault(),!1}if(i&&"false"!==n.attr("data-link"))return document.location=n.attr("href"),t.preventDefault(),!1}})},ace.enable_ajax_content=function(e,t){function i(t,i,a){var o;if(e(document).trigger(o=e.Event("ajaxloadstart"),{url:t,hash:i}),!o.isDefaultPrevented()){var f=e(".page-content-area");f.css("opacity",.25);var p=e('<div style="position: fixed; z-index: 2000;" class="ajax-loading-overlay"><i class="ajax-loading-icon fa fa-spin '+r+'"></i> '+l+"</div>").insertBefore(f),m=f.offset();p.css({top:m.top,left:m.left}),e.ajax({url:t}).complete(function(){f.css("opacity",.8),e(document).on("ajaxscriptsloaded",function(){f.css("opacity",1),f.prevAll(".ajax-loading-overlay").remove()})}).error(function(){e(document).trigger("ajaxloaderror",{url:t,hash:i})}).done(function(o){e(document).trigger("ajaxloaddone",{url:t,hash:i});var r=e('a[data-url="'+i+'"]'),l="";if(r.length>0){var p=r.closest(".nav");p.length>0&&(d&&(p.find(".active").each(function(){var t="active";(e(this).hasClass("hover")||u)&&(t+=" open"),e(this).removeClass(t),u&&e(this).find(" > .submenu").css("display","")}),r.closest("li").addClass("active").parents(".nav li").addClass("active open"),"sidebar_scroll"in ace.helper&&(ace.helper.sidebar_scroll.reset(),a&&ace.helper.sidebar_scroll.scroll_to_active())),c&&(l=s(r)))}o=String(o).replace(/<(title|link)([\s\>])/gi,'<div class="hidden ajax-append-$1"$2').replace(/<\/(title|link)\>/gi,"</div>"),f.empty().html(o),f.css("opacity",.6),setTimeout(function(){e("head").find("link.ajax-stylesheet").remove();var t=e("head").find("link#main-ace-style");f.find(".ajax-append-link").each(function(){var i=e(this);if(i.attr("href")){var s=jQuery("<link />",{type:"text/css",rel:"stylesheet","class":"ajax-stylesheet"});t.length>0?s.insertBefore(t):s.appendTo("head"),s.attr("href",i.attr("href"))}i.remove()})},10),h&&n(l,f),a||e("html,body").animate({scrollTop:0},250),e(document).trigger("ajaxloadcomplete",{url:t,hash:i})})}}function s(t){var i="",s=e(".breadcrumb");if(s.length>0&&s.is(":visible")){s.find("> li:not(:first-child)").remove();var n=0;t.parents(".nav li").each(function(){var t=e(this).find("> a"),a=t.clone();a.find("i,.fa,.glyphicon,.ace-icon,.menu-icon,.badge,.label").remove();var o=a.text();a.remove();var r=t.attr("href");if(0==n){var l=e('<li class="active"></li>').appendTo(s);l.text(o),i=o}else{var l=e("<li><a /></li>").insertAfter(s.find("> li:first-child"));l.find("a").attr("href",r).text(o)}n++})}return i}function n(t,i){var s=i.find(".ajax-append-title");if(s.length>0)document.title=s.text(),s.remove();else if(t.length>0){var n=e.trim(String(document.title).replace(/^(.*)[\-]/,""));n&&(n=" - "+n),t=e.trim(t)+n}}var a=t.content_url||!1,o=t.default_url||!1,r=t.loading_icon||"fa-spinner fa-2x orange",l=t.loading_text||"",c=t.update_breadcrumbs||"undefined"==typeof t.update_breadcrumbs,h=t.update_title||"undefined"==typeof t.update_title,d=t.update_active||"undefined"==typeof t.update_active,u=t.close_active||"undefined"==typeof t.close_active;e(window).off("hashchange.ajax").on("hashchange.ajax",function(t,s){var n=e.trim(window.location.hash);if(n&&0!=n.length){n=n.replace(/^(\#\!)?\#/,"");var o=!1;"function"==typeof a&&(o=a(n)),"string"==typeof o&&i(o,n,s||!1)}}).trigger("hashchange.ajax",[!0]),o&&""==window.location.hash&&(window.location.hash=o)},ace.load_ajax_scripts=function(e,t){jQuery.ajaxPrefilter("script",function(e){e.cache=!0}),setTimeout(function(){"ajax_loaded_scripts"in ace.vars||(ace.vars.ajax_loaded_scripts={});for(var i=[],s=0;s<e.length;s++)e[s]&&!function(){var t="js-"+e[s].replace(/[^\w\d\-]/g,"-").replace(/\-\-/g,"-");t in ace.vars.ajax_loaded_scripts||i.push(jQuery.getScript(e[s]).done(function(){ace.vars.ajax_loaded_scripts[t]=!0}))}();i.length>0?(i.push(jQuery.Deferred(function(e){jQuery(e.resolve)})),jQuery.when.apply(null,i).then(function(){"function"==typeof t&&t(),jQuery('.btn-group[data-toggle="buttons"] > .btn').button(),$(document).trigger("ajaxscriptsloaded")})):("function"==typeof t&&t(),jQuery('.btn-group[data-toggle="buttons"] > .btn').button(),$(document).trigger("ajaxscriptsloaded"))},10)},ace.submenu={show:function(e,t){var i,s=window.jQuery,n=s(e);if(n.trigger(i=s.Event("show.ace.submenu")),i.isDefaultPrevented())return!1;n.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open"),t>0&&n.css({height:e.scrollHeight,"transition-property":"height","transition-duration":t/1e3+"s"});var a=function(e,t){e&&e.stopPropagation(),n.css({"transition-property":"","transition-duration":"",overflow:"",height:""}),ace.vars.transition&&n.off(".trans"),t!==!1&&n.trigger(s.Event("shown.ace.submenu"))};return t>0&&ace.vars.transition?n.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",a):a(),ace.vars.android&&setTimeout(function(){a(null,!1)},t+20),!0},hide:function(e,t){var i,s=window.jQuery,n=s(e);if(n.trigger(i=s.Event("hide.ace.submenu")),i.isDefaultPrevented())return!1;n.css({height:e.scrollHeight,overflow:"hidden"}).parent().removeClass("open"),e.offsetHeight,t>0&&n.css({height:0,"transition-property":"height","transition-duration":t/1e3+"s"});var a=function(e,t){e&&e.stopPropagation(),n.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide"),ace.vars.transition&&n.off(".trans"),t!==!1&&n.trigger(s.Event("hidden.ace.submenu"))};return t>0&&ace.vars.transition?n.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",a):a(),ace.vars.android&&setTimeout(function(){a(null,!1)},t+20),!0},toggle:function(e,t){if(0==e.scrollHeight){if(ace.submenu.show(e,t))return 1}else if(ace.submenu.hide(e,t))return-1;return 0}},ace.sidebar_scrollable=function(e,t){if(e.fn.ace_scroll){var i=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i),s=e(".sidebar"),n=(e(".navbar"),s.find(".nav-list")),a=s.find(".sidebar-toggle"),o=s.find(".sidebar-shortcuts"),r=e(window),l=s.get(0),c=n.get(0);if(l&&c){var h,d,u=null,f=null,p=null,m=null,v=null,g=!1,b=!1,w=t.scroll_to_active||!1,y=t.include_shortcuts||!1,_=t.include_toggle||!1,x=t.smooth_scroll||!1,C=t.outside||!1,S="getComputedStyle"in window?function(){return l.offsetHeight,"fixed"==window.getComputedStyle(l).position}:function(){return l.offsetHeight,"fixed"==s.css("position")},k=S(),E=s.hasClass("h-sidebar"),T=ace.helper.sidebar_scroll={available_height:function(){var e=n.parent().offset();return k&&(e.top-=ace.helper.scrollTop()),r.innerHeight()-e.top-(_?0:a.outerHeight())},content_height:function(){return c.scrollHeight},initiate:function(t){if(!b&&k){n.wrap('<div style="position: relative;" />'),n.after("<div><div></div></div>"),n.wrap('<div class="nav-wrap" />'),_||a.css({"z-index":1}),y||o.css({"z-index":99}),u=n.parent().next().ace_scroll({size:T.available_height(),reset:!0,mouseWheelLock:!0,hoverReset:!1,dragEvent:!0,touchDrag:!1}).closest(".ace-scroll").addClass("nav-scroll"),v=u.data("ace_scroll"),f=u.find(".scroll-content").eq(0),p=f.find(" > div").eq(0),m=u.find(".scroll-bar").eq(0),y&&(n.parent().prepend(o).wrapInner("<div />"),n=n.parent()),_&&(n.append(a),n.closest(".nav-wrap").addClass("nav-wrap-t")),n.css({position:"relative"}),C===!0&&u.addClass("scrollout"),c=n.get(0),c.style.top=0,f.on("scroll.nav",function(){c.style.top=-1*this.scrollTop+"px"}),n.on("mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(e){return u.trigger(e)});var s=f.get(0);if(n.on("ace_drag.nav",function(e){if(!g)return void(e.retval.cancel=!0);if("up"==e.direction||"down"==e.direction){v.move_bar(!0);var t=e.dy;t=parseInt(Math.min(h,t)),Math.abs(t)>2&&(t=2*t),0!=t&&(s.scrollTop=s.scrollTop+t,c.style.top=-1*s.scrollTop+"px")}}),x&&n.on("touchstart.nav MSPointerDown.nav pointerdown.nav",function(){n.css("transition-property","none"),m.css("transition-property","none")}).on("touchend.nav touchcancel.nav MSPointerUp.nav MSPointerCancel.nav pointerup.nav pointercancel.nav",function(){n.css("transition-property","top"),m.css("transition-property","top")}),i&&!_){var r=a.get(0);r&&f.on("scroll.safari",function(){ace.helper.redraw(r)})}if(b=!0,1==t&&(T.reset(),w&&T.scroll_to_active(),w=!1),"number"==typeof x&&x>0&&(n.css({"transition-property":"top","transition-duration":(x/1e3).toFixed(2)+"s"}),m.css({"transition-property":"top","transition-duration":(x/1500).toFixed(2)+"s"}),u.on("drag.start",function(e){e.stopPropagation(),n.css("transition-property","none")}).on("drag.end",function(e){e.stopPropagation(),n.css("transition-property","top")})),ace.vars.android){var l=ace.helper.scrollTop();2>l&&(window.scrollTo(l,0),setTimeout(function(){T.reset()},20));var d,S=ace.helper.winHeight();e(window).on("scroll.ace_scroll",function(){g&&v.is_active()&&(d=ace.helper.winHeight(),d!=S&&(S=d,T.reset()))})}}},scroll_to_active:function(){if(v&&v.is_active())try{var e,t=s.find(".nav-list");ace.vars.minimized&&!ace.vars.collapsible?e=t.find("> .active"):(e=n.find("> .active.hover"),0==e.length&&(e=n.find(".active:not(.open)")));var i=e.outerHeight();t=t.get(0);for(var a=e.get(0);a!=t;)i+=a.offsetTop,a=a.parentNode;var o=i-u.height();o>0&&(c.style.top=-o+"px",f.scrollTop(o))}catch(r){}},reset:function(){if(!k)return void T.disable();b||T.initiate();var e=!ace.vars.collapsible&&(!E||E&&ace.vars.mobile_view)&&(h=T.available_height())<(d=c.scrollHeight);g=!0,e&&(p.css({height:d,width:8}),u.prev().css({"max-height":h}),v.update({size:h}).enable().reset()),e&&v.is_active()?s.addClass("sidebar-scroll"):g&&T.disable()},disable:function(){g=!1,u&&(u.css({height:"","max-height":""}),p.css({height:"",width:""}),u.prev().css({"max-height":""}),v.disable()),parseInt(c.style.top)<0&&x&&ace.vars.transition?n.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",function(){s.removeClass("sidebar-scroll"),n.off(".trans")}):s.removeClass("sidebar-scroll"),c.style.top=0},prehide:function(e){if(g&&!ace.vars.minimized)if(T.content_height()+e<T.available_height())T.disable();else if(0>e){var t=f.scrollTop()+e;if(0>t)return;c.style.top=-1*t+"px"}},_reset:function(){ace.vars.webkit?setTimeout(function(){T.reset()},0):T.reset()}};T.initiate(!0),e(document).on("settings.ace.scroll",function(e,t){"sidebar_collapsed"==t&&k?T.reset():("sidebar_fixed"===t||"navbar_fixed"===t)&&(k=S(),k&&!g?T.reset():k||T.disable())}),r.on("resize.ace.scroll",function(){k=S(),T.reset()}),s.on("hidden.ace.submenu shown.ace.submenu",".submenu",function(e){e.stopPropagation(),ace.vars.minimized||T._reset()})}}},ace.sidebar_hoverable=function(e,t){function i(t){var i=e(t);t.style.removeProperty("top"),t.style.removeProperty("bottom");var n=null;ace.vars.minimized&&(n=t.parentNode.querySelector(".menu-text"))&&n.style.removeProperty("margin-top");var a=i.offset(),o=ace.helper.scrollTop(),r=!1,c=o;h&&(c+=l.clientHeight+1);var u=t.scrollHeight;n&&(u+=40,a.top-=40);var f,p=parseInt(a.top+u),m=window.innerHeight;if((f=p-(m+o-50))>0)if(d>u-f&&a.top-f>c)t.style.top="auto",t.style.bottom="-10px",n&&(n.style.marginTop=-(u-50)+"px",r=!0);else{a.top-f<c&&(f=a.top-c),p-f<a.top+d&&(f-=d);var v=n?40:20;f>v&&(t.style.top=-f+"px",n&&(n.style.marginTop=-f+"px",r=!0))}var g=this.className.lastIndexOf("pull_up");if(r){if(-1==g&&(this.className=this.className+" pull_up"),s){var b=u+a.top-f;0>m-b?e(t).css({"max-height":u+m-b-50,"overflow-x":"hidden","overflow-y":"scroll"}).on("mousewheel.sub_scroll DOMMouseScroll.sub_scroll ace_drag.sub_scroll",function(e){e.stopPropagation()}):e(t).css({"max-height":"","overflow-x":"","overflow-y":""}).off("mousewheel.sub_scroll DOMMouseScroll.sub_scroll ace_drag.sub_scroll",function(e){e.stopPropagation()})}}else g>=0&&(this.className=this.className.replace(/(^|\s)pull_up($|\s)/," "));ace.vars.safari&&ace.helper.redraw(t)}if("querySelector"in document&&"removeProperty"in document.documentElement.style){var s=t.sub_scroll||!1;ace.helper.sidebar_hover={reset:function(){a.find(".submenu").each(function(){var t=this,i=this.parentNode;if(t){t.style.removeProperty("top"),t.style.removeProperty("bottom");var s=i.querySelector(".menu-text");s&&s.style.removeProperty("margin-top")}i.className.lastIndexOf("_up")>=0&&e(i).removeClass("pull_up")})}};var n="getComputedStyle"in window?function(e,t){return e.offsetHeight,window.getComputedStyle(e).position==t}:function(t,i){return t.offsetHeight,e(t).css("position")==i};e(window).on("resize.ace_hover",function(){h=n(l,"fixed"),ace.helper.sidebar_hover.reset()}),e(document).on("settings.ace.hover",function(e,t,i){"sidebar_collapsed"==t?ace.helper.sidebar_hover.reset():"navbar_fixed"==t&&(h=i)});var a=e(".sidebar").eq(0),o=(a.get(0),a.find(".nav-list").get(0)),r=e(".navbar").eq(0),l=r.get(0),c=a.hasClass("h-sidebar"),h="fixed"==r.css("position");a.find(".submenu").parent().addClass("hsub");var s=s&&ace.vars.touch||!1;a.on("mouseenter.ace_hover",".nav-list li.hsub",function(){if(!(ace.vars.collapsible||c&&!ace.vars.mobile_view)){var e=this.querySelector(".submenu");e&&(ace.helper.hasClass(this,"hover")&&n(e,"absolute")?i.call(this,e):this.parentNode==o&&ace.vars.minimized&&i.call(this,e))}});var d=50}},ace.widget_boxes=function(e){e(document).on("hide.bs.collapse show.bs.collapse",function(t){var i=t.target.getAttribute("id"),s=e('a[href*="#'+i+'"]');0==s.length&&(s=e('a[data-target*="#'+i+'"]')),0!=s.length&&s.find(ace.vars[".icon"]).each(function(){var i,s=e(this),n=null,a=null;return(n=s.attr("data-icon-show"))?a=s.attr("data-icon-hide"):(i=s.attr("class").match(/fa\-(.*)\-(up|down)/))&&(n="fa-"+i[1]+"-down",a="fa-"+i[1]+"-up"),n?("show"==t.type?s.removeClass(n).addClass(a):s.removeClass(a).addClass(n),!1):void 0})});var t=function(t){this.$box=e(t),this.reload=function(){var e=this.$box,t=!1;"static"==e.css("position")&&(t=!0,e.addClass("position-relative")),e.append('<div class="widget-box-overlay"><i class="'+ace.vars.icon+'loading-icon fa fa-spinner fa-spin fa-2x white"></i></div>'),e.one("reloaded.ace.widget",function(){e.find(".widget-box-overlay").remove(),t&&e.removeClass("position-relative")})},this.close=function(){var e=this.$box,t=300;e.fadeOut(t,function(){e.trigger("closed.ace.widget"),e.remove()})},this.toggle=function(e,t){var i=this.$box,s=i.find(".widget-body"),n=null,a="undefined"!=typeof e?e:i.hasClass("collapsed")?"show":"hide",o="show"==a?"shown":"hidden";if("undefined"==typeof t&&(t=i.find("> .widget-header a[data-action=collapse]").eq(0),0==t.length&&(t=null)),t){n=t.find(ace.vars[".icon"]).eq(0);var r,l=null,c=null;(l=n.attr("data-icon-show"))?c=n.attr("data-icon-hide"):(r=n.attr("class").match(/fa\-(.*)\-(up|down)/))&&(l="fa-"+r[1]+"-down",c="fa-"+r[1]+"-up")}var h=250,d=200;"show"==a?(n&&n.removeClass(l).addClass(c),s.hide(),i.removeClass("collapsed"),s.slideDown(h,function(){i.trigger(o+".ace.widget")})):(n&&n.removeClass(c).addClass(l),s.slideUp(d,function(){i.addClass("collapsed"),i.trigger(o+".ace.widget")}))},this.hide=function(){this.toggle("hide")},this.show=function(){this.toggle("show")},this.fullscreen=function(){var e=this.$box.find("> .widget-header a[data-action=fullscreen]").find(ace.vars[".icon"]).eq(0),t=null,i=null;(t=e.attr("data-icon1"))?i=e.attr("data-icon2"):(t="fa-expand",i="fa-compress"),this.$box.hasClass("fullscreen")?(e.addClass(t).removeClass(i),this.$box.removeClass("fullscreen")):(e.removeClass(t).addClass(i),this.$box.addClass("fullscreen")),this.$box.trigger("fullscreened.ace.widget")}};e.fn.widget_box=function(i,s){var n,a=this.each(function(){var a=e(this),o=a.data("widget_box"),r="object"==typeof i&&i;o||a.data("widget_box",o=new t(this,r)),"string"==typeof i&&(n=o[i](s))});return void 0===n?a:n},e(document).on("click.ace.widget",".widget-header a[data-action]",function(i){i.preventDefault();var s=e(this),n=s.closest(".widget-box");if(0!=n.length&&!n.hasClass("ui-sortable-helper")){var a=n.data("widget_box");a||n.data("widget_box",a=new t(n.get(0)));var o=s.data("action");if("collapse"==o){var r,l=n.hasClass("collapsed")?"show":"hide";if(n.trigger(r=e.Event(l+".ace.widget")),r.isDefaultPrevented())return;a.toggle(l,s)}else if("close"==o){var r;if(n.trigger(r=e.Event("close.ace.widget")),r.isDefaultPrevented())return;a.close()}else if("reload"==o){s.blur();var r;if(n.trigger(r=e.Event("reload.ace.widget")),r.isDefaultPrevented())return;a.reload()}else if("fullscreen"==o){var r;if(n.trigger(r=e.Event("fullscreen.ace.widget")),r.isDefaultPrevented())return;a.fullscreen()}else"settings"==o&&n.trigger("setting.ace.widget")}})},ace.settings_box=function(e){e("#ace-settings-btn").on(ace.click_event,function(t){t.preventDefault(),e(this).toggleClass("open"),e("#ace-settings-box").toggleClass("open")}),e("#ace-settings-navbar").on("click",function(){ace.settings.navbar_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("navbar","fixed")}),e("#ace-settings-sidebar").on("click",function(){ace.settings.sidebar_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("sidebar","fixed");
}),e("#ace-settings-breadcrumbs").on("click",function(){ace.settings.breadcrumbs_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("breadcrumbs","fixed")}),e("#ace-settings-add-container").on("click",function(){ace.settings.main_container_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("main-container","fixed")}),e("#ace-settings-compact").removeAttr("checked").on("click",function(){if(this.checked){e("#sidebar").addClass("compact");var t=e("#ace-settings-hover");t.length>0&&!t.get(0).checked&&t.removeAttr("checked").trigger("click")}else e("#sidebar").removeClass("compact"),"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset()}),e("#ace-settings-highlight").removeAttr("checked").on("click",function(){this.checked?e("#sidebar .nav-list > li").addClass("highlight"):e("#sidebar .nav-list > li").removeClass("highlight")}),e("#ace-settings-hover").removeAttr("checked").on("click",function(){if(!e(".sidebar").hasClass("h-sidebar")){if(this.checked)e("#sidebar li").addClass("hover").filter(".open").removeClass("open").find("> .submenu").css("display","none");else{e("#sidebar li.hover").removeClass("hover");var t=e("#ace-settings-compact");t.length>0&&t.get(0).checked&&t.trigger("click"),"sidebar_hover"in ace.helper&&ace.helper.sidebar_hover.reset()}"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset()}})},ace.settings_rtl=function(e){e("#ace-settings-rtl").removeAttr("checked").on("click",function(){ace.switch_direction(jQuery)})},ace.switch_direction=function(e){function t(e,t){i.find("."+e).removeClass(e).addClass("tmp-rtl-"+e).end().find("."+t).removeClass(t).addClass(e).end().find(".tmp-rtl-"+e).removeClass("tmp-rtl-"+e).addClass(t)}var i=e(document.body);i.toggleClass("rtl").find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("dropdown-menu-right").end().find(".pull-right:not(.dropdown-menu,blockquote,.profile-skills .pull-right)").removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chosen-select").toggleClass("chosen-rtl").next().toggleClass("chosen-rtl"),t("align-left","align-right"),t("no-padding-left","no-padding-right"),t("arrowed","arrowed-right"),t("arrowed-in","arrowed-in-right"),t("tabs-left","tabs-right"),t("messagebar-item-left","messagebar-item-right"),e(".fa").each(function(){if(!(this.className.match(/ui-icon/)||e(this).closest(".fc-button").length>0))for(var t=this.attributes.length,i=0;t>i;i++){var s=this.attributes[i].value;s.match(/fa\-(?:[\w\-]+)\-left/)?this.attributes[i].value=s.replace(/fa\-([\w\-]+)\-(left)/i,"fa-$1-right"):s.match(/fa\-(?:[\w\-]+)\-right/)&&(this.attributes[i].value=s.replace(/fa\-([\w\-]+)\-(right)/i,"fa-$1-left"))}});var s=i.hasClass("rtl");s?e(".scroll-hz").addClass("make-ltr").find(".scroll-content").wrapInner('<div class="make-rtl" />'):e(".scroll-hz").removeClass("make-ltr").find(".make-rtl").children().unwrap(),e.fn.ace_scroll&&e(".scroll-hz").ace_scroll("reset");try{var n=e("#piechart-placeholder");if(n.length>0){var a=e(document.body).hasClass("rtl")?"nw":"ne";n.data("draw").call(n.get(0),n,n.data("chart"),a)}}catch(o){}},ace.settings_skin=function(e){try{e("#skin-colorpicker").ace_colorpicker()}catch(t){}e("#skin-colorpicker").on("change",function(){var t=e(this).find("option:selected").data("skin"),i=e(document.body);i.removeClass("no-skin skin-1 skin-2 skin-3"),i.addClass(t),ace.data.set("skin",t);var s=["red","blue","green",""];e(".ace-nav > li.grey").removeClass("dark"),e(".ace-nav > li").removeClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").removeClass("light-pink").find("> a > "+ace.vars[".icon"]).removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning"),e(".sidebar-shortcuts .btn").removeClass("btn-pink btn-white").find(ace.vars[".icon"]).removeClass("white"),e(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow"),e(".sidebar-shortcuts .btn").removeClass("btn-primary btn-white");var n=0;e(".sidebar-shortcuts .btn").each(function(){e(this).find(ace.vars[".icon"]).removeClass(s[n++])});var a=["btn-success","btn-info","btn-warning","btn-danger"];if("no-skin"==t){var n=0;e(".sidebar-shortcuts .btn").each(function(){e(this).attr("class","btn "+a[n++%4])})}else if("skin-1"==t){e(".ace-nav > li.grey").addClass("dark");var n=0;e(".sidebar-shortcuts").find(".btn").each(function(){e(this).attr("class","btn "+a[n++%4])})}else if("skin-2"==t)e(".ace-nav > li").addClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").addClass("light-pink").find("> a > "+ace.vars[".icon"]).addClass("pink").end().eq(0).find(".badge").addClass("badge-warning"),e(".sidebar-shortcuts .btn").attr("class","btn btn-white btn-pink").find(ace.vars[".icon"]).addClass("white");else if("skin-3"==t){i.addClass("no-skin"),e(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow");var n=0;e(".sidebar-shortcuts .btn").each(function(){e(this).attr("class","btn btn-primary btn-white"),e(this).find(ace.vars[".icon"]).addClass(s[n++])})}"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset()})},ace.widget_reload_handler=function(e){e(document).on("reload.ace.widget",".widget-box",function(){var t=e(this);setTimeout(function(){t.trigger("reloaded.ace.widget")},parseInt(1e3*Math.random()+1e3))})},ace.enable_searchbox_autocomplete=function(e){ace.vars.US_STATES=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];try{e("#nav-search-input").bs_typeahead({source:ace.vars.US_STATES,updater:function(t){return e("#nav-search-input").focus(),t}})}catch(t){}},function(e){e.gritter={},e.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return t.add(e||{})}catch(i){var s="Gritter Error: "+i;"undefined"!=typeof console&&console.error?console.error(s,e):alert(s)}},e.gritter.remove=function(e,i){t.removeSpecific(e,i||{})},e.gritter.removeAll=function(e){t.stop(e||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),null===i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var s=i.title,n=i.text,a=i.image||"",o=i.sticky||!1,r=i.class_name||e.gritter.options.class_name,l=e.gritter.options.position,c=i.time||"";this._verifyWrapper(),this._item_count++;var h=this._item_count,d=this._tpl_item;e(["before_open","after_open","before_close","after_close"]).each(function(s,n){t["_"+n+"_"+h]=e.isFunction(i[n])?i[n]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c);var u=""!=a?'<img src="'+a+'" class="gritter-image" />':"",f=""!=a?"gritter-with-image":"gritter-without-image";if(s=s?this._str_replace("[[title]]",s,this._tpl_title):"",d=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[s,n,this._tpl_close,u,this._item_count,f,r],d),this["_before_open_"+h]()===!1)return!1;e("#gritter-notice-wrapper").addClass(l).append(d);var p=e("#gritter-item-"+this._item_count);return p.fadeIn(this.fade_in_speed,function(){t["_after_open_"+h](e(this))}),o||this._setFadeTimer(p,h),e(p).bind("mouseenter mouseleave",function(i){"mouseenter"==i.type?o||t._restoreItemIfFading(e(this),h):o||t._setFadeTimer(e(this),h),t._hoverState(e(this),i.type)}),e(p).find(".gritter-close").click(function(){t.removeSpecific(h,{},null,!0)}),h},_countRemoveWrapper:function(t,i,s){i.remove(),this["_after_close_"+t](i,s),0==e(".gritter-item-wrapper").length&&e("#gritter-notice-wrapper").remove()},_fade:function(e,i,s,n){var s=s||{},a="undefined"!=typeof s.fade?s.fade:!0,o=s.speed||this.fade_out_speed,r=n;this["_before_close_"+i](e,r),n&&e.unbind("mouseenter mouseleave"),a?e.animate({opacity:0},o,function(){e.animate({height:0},300,function(){t._countRemoveWrapper(i,e,r)})}):this._countRemoveWrapper(i,e)},_hoverState:function(e,t){"mouseenter"==t?(e.addClass("hover"),e.find(".gritter-close").show()):(e.removeClass("hover"),e.find(".gritter-close").hide())},removeSpecific:function(t,i,s,n){if(!s)var s=e("#gritter-item-"+t);this._fade(s,t,i||{},n)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in e.gritter.options)this[opt]=e.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,i){var s=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(e,i)},s)},stop:function(t){var i=e.isFunction(t.before_close)?t.before_close:function(){},s=e.isFunction(t.after_close)?t.after_close:function(){},n=e("#gritter-notice-wrapper");i(n),n.fadeOut(function(){e(this).remove(),s()})},_str_replace:function(e,t,i,s){var n=0,a=0,o="",r="",l=0,c=0,h=[].concat(e),d=[].concat(t),u=i,f=d instanceof Array,p=u instanceof Array;for(u=[].concat(u),s&&(this.window[s]=0),n=0,l=u.length;l>n;n++)if(""!==u[n])for(a=0,c=h.length;c>a;a++)o=u[n]+"",r=f?void 0!==d[a]?d[a]:"":d[0],u[n]=o.split(h[a]).join(r),s&&u[n]!==o&&(this.window[s]+=(o.length-u[n].length)/h[a].length);return p?u:u[0]},_verifyWrapper:function(){0==e("#gritter-notice-wrapper").length&&e("body").append(this._tpl_wrap)}}}(jQuery),!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),s=-1,n=this.length;++s<n&&(i.context=i[0]=this[s])&&t.call(i[0],s,i)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function i(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function s(e){function t(e){return N[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(e,t){for(var i=0,s=t.length;s>i;i+=1)if(o(e,t[i]))return i;return-1}function a(){var t=e(R);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function o(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function r(t,i){var s,n,a;if(null===t||t.length<1)return[];for(s=t.split(i),n=0,a=s.length;a>n;n+=1)s[n]=e.trim(s[n]);return s}function l(e){return e.outerWidth(!1)-e.width()}function c(i){var s="keyup-change-value";i.on("keydown",function(){e.data(i,s)===t&&e.data(i,s,i.val())}),i.on("keyup",function(){var n=e.data(i,s);n!==t&&i.val()!==n&&(e.removeData(i,s),i.trigger("keyup-change"))})}function h(i){i.on("mousemove",function(i){var s=$;(s===t||s.x!==i.pageX||s.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function d(e,i,s){s=s||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){i.apply(s,t)},e)}}function u(e,t){var i=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],s=e.val().length;e.focus();var n=i.offsetWidth>0||i.offsetHeight>0;n&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(s,s):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function p(t){t=e(t)[0];var i=0,s=0;if("selectionStart"in t)i=t.selectionStart,s=t.selectionEnd-i;else if("selection"in document){t.focus();var n=document.selection.createRange();s=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),i=n.text.length-s}return{offset:i,length:s}}function m(e){e.preventDefault(),e.stopPropagation()}function v(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!z){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);z=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),z.attr("class","select2-sizer"),e("body").append(z)}return z.text(t.val()),z.width()}function b(t,i,s){var n,a,o=[];n=e.trim(t.attr("class")),n&&(n=""+n,e(n.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),n=e.trim(i.attr("class")),n&&(n=""+n,e(n.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(a=s(this),a&&o.push(a))})),t.attr("class",o.join(" "))}function w(e,t,i,n){var a=s(e.toUpperCase()).indexOf(s(t.toUpperCase())),o=t.length;return 0>a?void i.push(n(e)):(i.push(n(e.substring(0,a))),i.push("<span class='select2-match'>"),i.push(n(e.substring(a,a+o))),i.push("</span>"),void i.push(n(e.substring(a+o,e.length))))}function y(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(i){var s,n=null,a=i.quietMillis||100,o=i.url,r=this;return function(l){window.clearTimeout(s),s=window.setTimeout(function(){var s=i.data,a=o,c=i.transport||e.fn.select2.ajaxDefaults.transport,h={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,h);s=s?s.call(r,l.term,l.page,l.context):null,a="function"==typeof a?a.call(r,l.term,l.page,l.context):a,n&&"function"==typeof n.abort&&n.abort(),i.params&&(e.isFunction(i.params)?e.extend(d,i.params.call(r)):e.extend(d,i.params)),e.extend(d,{url:a,dataType:i.dataType,data:s,success:function(e){var t=i.results(e,l.page,l);l.callback(t)}}),n=c.call(r,d)},a)}}function x(t){var i,s,n=t,a=function(e){return""+e.text};e.isArray(n)&&(s=n,n={results:s}),e.isFunction(n)===!1&&(s=n,n=function(){return s});var o=n();return o.text&&(a=o.text,e.isFunction(a)||(i=o.text,a=function(e){return e[i]})),function(t){var i,s=t.term,o={results:[]};return""===s?void t.callback(n()):(i=function(n,o){var r,l;if(n=n[0],n.children){r={};for(l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);r.children=[],e(n.children).each2(function(e,t){i(t,r.children)}),(r.children.length||t.matcher(s,a(r),n))&&o.push(r)}else t.matcher(s,a(n),n)&&o.push(n)},e(n().results).each2(function(e,t){i(t,o.results)}),void t.callback(o))}}function C(i){var s=e.isFunction(i);return function(n){var a=n.term,o={results:[]},r=s?i(n):i;e.isArray(r)&&(e(r).each(function(){var e=this.text!==t,i=e?this.text:this;(""===a||n.matcher(a,i))&&o.results.push(e?this:{id:this,text:this})}),n.callback(o))}}function S(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function k(t,i){if(e.isFunction(t)){var s=Array.prototype.slice.call(arguments,2);return t.apply(i,s)}return t}function E(t){var i=0;return e.each(t,function(e,t){t.children?i+=E(t.children):i++}),i}function T(e,i,s,n){var a,r,l,c,h,d=e,u=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return t;for(;;){for(r=-1,l=0,c=n.tokenSeparators.length;c>l&&(h=n.tokenSeparators[l],r=e.indexOf(h),!(r>=0));l++);if(0>r)break;if(a=e.substring(0,r),e=e.substring(r+h.length),a.length>0&&(a=n.createSearchChoice.call(this,a,i),a!==t&&null!==a&&n.id(a)!==t&&null!==n.id(a))){for(u=!1,l=0,c=i.length;c>l;l++)if(o(n.id(a),n.id(i[l]))){u=!0;break}u||s(a)}}return d!==e?e:void 0}function A(){var t=this;e.each(arguments,function(e,i){t[i].remove(),t[i]=null})}function I(t,i){var s=function(){};return s.prototype=new t,s.prototype.constructor=s,s.prototype.parent=t.prototype,s.prototype=e.extend(s.prototype,i),s}if(window.Select2===t){var D,O,j,P,M,z,L,H,$={x:0,y:0},D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},R="<div class='select2-measure-scrollbar'></div>",N={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};L=e(document),M=function(){var e=1;return function(){return e++}}(),O=I(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var s,n,o=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+M()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e("body"),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(k(i.containerCss,this.opts.element)),this.container.addClass(k(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=s=this.container.find(o),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),h(this.results),this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),u(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&s.mousewheel(function(e,t,i,n){var a=s.scrollTop();n>0&&0>=a-n?(s.scrollTop(0),m(e)):0>n&&s.get(0).scrollHeight-s.scrollTop()+n<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),m(e))}),c(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",function(){n.addClass("select2-focused")}),n.on("blur",function(){n.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var r=i.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var l=i.element.prop("readonly");l===t&&(l=!1),this.readonly(l),H=H||a(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",this._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),A.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:o(e.attr("locked"),"locked")||o(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var s,n,a,l,c=this;if(s=i.element,"select"===s.get(0).tagName.toLowerCase()&&(this.select=n=i.element),n&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(s,n,a){var o,r=this.opts.id,l=this.liveRegion;(o=function(s,n,h){var d,u,f,p,m,v,g,b,w,y;s=i.sortResults(s,n,a);var _=[];for(d=0,u=s.length;u>d;d+=1)f=s[d],m=f.disabled===!0,p=!m&&r(f)!==t,v=f.children&&f.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+h),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),m&&g.addClass("select2-disabled"),v&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(f)),g.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+M()),b.attr("role","option"),y=i.formatResult(f,b,a,c.opts.escapeMarkup),y!==t&&(b.html(y),g.append(b)),v&&(w=e("<ul></ul>"),w.addClass("select2-result-sub"),o(f.children,w,h+1),g.append(w)),g.data("select2-data",f),_.push(g[0]);n.append(_),l.text(i.formatMatches(s.length))})(n,s,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id&&(a=i.id,i.id=function(e){return e[a]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(n?(i.query=this.bind(function(e){var i,n,a,o={results:[],more:!1},r=e.term;a=function(t,i){var s;t.is("option")?e.matcher(r,t.text(),t)&&i.push(c.optionToData(t)):t.is("optgroup")&&(s=c.optionToData(t),t.children().each2(function(e,t){a(t,s.children)}),s.children.length>0&&i.push(s))},i=s.children(),this.getPlaceholder()!==t&&i.length>0&&(n=this.getPlaceholderOption(),n&&(i=i.not(n))),i.each2(function(e,t){a(t,o.results)}),e.callback(o)}),i.id=function(e){return e.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=_.call(i.element,i.ajax)):"data"in i?i.query=x(i.data):"tags"in i&&(i.query=C(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,s){var n=[];e(r(t.val(),i.separator)).each(function(){var t={id:this,text:this},s=i.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return o(this.id,t.id)?(t=this,!1):void 0}),n.push(t)}),s(n)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,s=this.opts.element,n=this;s.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=s.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=s.prop("readonly");i===t&&(i=!1),this.readonly(i),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass,this.opts.element)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass,this.opts.element));
}),s.length&&s[0].attachEvent&&s.each(function(){this.attachEvent("onpropertychange",n._sync)}),i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(t){e.each(t,n._sync)}),this.propertyObserver.observe(s.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,i,s,n,a,o=this.dropdown,r=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=o.outerHeight(!1),d=e(window),u=d.width(),f=d.height(),p=d.scrollLeft()+u,m=d.scrollTop()+f,v=r.top+l,g=r.left,b=m>=v+h,w=r.top-h>=d.scrollTop(),y=o.outerWidth(!1),_=p>=g+y,x=o.hasClass("select2-drop-above");x?(i=!0,!w&&b&&(s=!0,i=!1)):(i=!1,!b&&w&&(s=!0,i=!0)),s&&(o.hide(),r=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=o.outerHeight(!1),p=d.scrollLeft()+u,m=d.scrollTop()+f,v=r.top+l,g=r.left,y=o.outerWidth(!1),_=p>=g+y,o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(a=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),y=o.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:H.width),y>c?c=y:y=c,h=o.outerHeight(!1),_=p>=g+y):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,g-=t.left),_||(g=r.left+this.container.outerWidth(!1)-y),n={left:g,width:c},i?(n.top=r.top-h,n.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(n.top=v,n.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),n=e.extend(n,k(this.opts.dropdownCss,this.opts.element)),o.css(n)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),L.on("mousemove.select2Event",function(e){$.x=e.pageX,$.y=e.pageY}),!0):!1},opening:function(){var t,s=this.containerEventName,n="scroll."+s,a="resize."+s,o="orientationchange."+s;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(s){i(t);var n,a=e("#select2-drop");a.length>0&&(n=a.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),s.preventDefault(),s.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){e(this).on(a+" "+n+" "+o,function(){r.opened()&&r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,s="resize."+t,n="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(s).off(n)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),L.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,i,s,n,a,o,r,l,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),s=e(t[i]),l=(s.offset()||{}).top||0,n=l+s.outerHeight(!0),i===t.length-1&&(r=c.find("li.select2-more-results"),r.length>0&&(n=r.offset().top+r.outerHeight(!0))),a=c.offset().top+c.outerHeight(!0),n>a&&c.scrollTop(c.scrollTop()+(n-a)),o=l-c.offset().top,0>o&&"none"!=s.css("display")&&c.scrollTop(c.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),s=this.highlight();s>-1&&s<i.length;){s+=t;var n=e(i[s]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(t){var i,s,a=this.findHighlightableChoices();return 0===arguments.length?n(a.filter(".select2-highlighted")[0],a.get()):(t>=a.length&&(t=a.length-1),0>t&&(t=0),this.removeHighlight(),i=e(a[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),s=i.data("select2-data"),void(s&&this.opts.element.trigger({type:"select2-highlight",val:this.id(s),choice:s})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var s=this.findHighlightableChoices();this.highlight(s.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),s=this.resultsPage+1,n=this,a=this.search.val(),o=this.context;0!==i.length&&(e=i.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:s,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){n.opened()&&(n.opts.populateResults.call(this,t,e.results,{term:a,page:s,context:o}),n.postprocessResults(e,!1,!1),e.more===!0?(i.detach().appendTo(t).text(k(n.opts.formatLoadMore,n.opts.element,s+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=s,n.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(i){function s(){c.removeClass("select2-active"),u.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.liveRegion.text(h.text()):u.liveRegion.text(u.opts.formatMatches(h.find(".select2-result-selectable").length))}function n(e){h.html(e),s()}var a,r,l,c=this.search,h=this.results,d=this.opts,u=this,f=c.val(),p=e.data(this.container,"select2-last-term");if((i===!0||!p||!o(f,p))&&(e.data(this.container,"select2-last-term",f),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(a=this.data(),e.isArray(a)&&a.length>=m&&S(d.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+k(d.formatSelectionTooBig,d.element,m)+"</li>");if(c.val().length<d.minimumInputLength)return n(S(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+k(d.formatInputTooShort,d.element,c.val(),d.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void n(S(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+k(d.formatInputTooLong,d.element,c.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+k(d.formatSearching,d.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=t&&null!=r&&c.val(r),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(a){var r;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=a.context===t?null:a.context,this.opts.createSearchChoice&&""!==c.val()&&(r=this.opts.createSearchChoice.call(u,c.val(),a.results),r!==t&&null!==r&&u.id(r)!==t&&null!==u.id(r)&&0===e(a.results).filter(function(){return o(u.id(this),u.id(r))}).length&&this.opts.createSearchChoicePosition(a.results,r)),0===a.results.length&&S(d.formatNoMatches,"formatNoMatches"))return void n("<li class='select2-no-results'>"+k(d.formatNoMatches,d.element,c.val())+"</li>");h.empty(),u.opts.populateResults.call(this,h,a.results,{term:c.val(),page:this.resultsPage,context:null}),a.more===!0&&S(d.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+d.escapeMarkup(k(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(a,i),s(),this.opts.element.trigger({type:"select2-loaded",items:a})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),i=this.results.find(".select2-highlighted"),s=i.closest(".select2-result").data("select2-data");s?(this.highlight(t),this.onSelect(s,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,s,n,a,o,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(s=i.split(";"),a=0,o=s.length;o>a;a+=1)if(r=s[a].replace(/\s/g,""),n=r.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=i.call(this);null!==s&&this.container.css("width",s)}}),j=I(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,s,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(s=i.createTextRange(),s.collapse(!1),s.select()):i.setSelectionRange&&(n=this.search.val().length,i.setSelectionRange(n,n))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"selection","focusser")},initContainer:function(){var t,s,n=this.container,a=this.dropdown,o=M();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),s=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(s.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||s.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)return void m(e);switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void m(e);case D.ENTER:return this.selectHighlighted(),void m(e);case D.TAB:return void this.selectHighlighted({noFocus:!0});case D.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.ESC){if(this.opts.openOnEnter===!1&&e.which===D.ENTER)return void m(e);if(e.which==D.DOWN||e.which==D.UP||e.which==D.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==D.DELETE||e.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),v(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(s){i(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(s)})),a.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var s=e.Event("select2-clearing");if(this.opts.element.trigger(s),s.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(i,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var s=e.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(s))}:"data"in t&&(t.initSelection=t.initSelection||function(i,s){var n=i.val(),a=null;t.query({matcher:function(e,i,s){var r=o(n,t.id(s));return r&&(a=s),r},callback:e.isFunction(s)?function(){s(a)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var s=0,n=this;if(this.findHighlightableChoices().each2(function(e,t){return o(n.id(t.data("select2-data")),n.opts.element.val())?(s=e,!1):void 0}),i!==!1&&(t===!0&&s>=0?this.highlight(s):this.highlight(0)),t===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(E(e.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),s=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(e))||this.triggerChange({added:e,removed:s})}},updateSelection:function(e){var i,s,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),null!==e&&(i=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),i!==t&&n.append(i),s=this.opts.formatSelectionCssClass(e,n),s!==t&&n.addClass(s),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,s=null,n=this,a=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return s=n.optionToData(t),!1}),this.updateSelection(s),this.setPlaceholder(),i&&this.triggerChange({added:s,removed:a});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),i&&n.triggerChange({added:e,removed:a})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,s=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(s=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),s&&this.triggerChange({added:e,removed:i})):this.clear(s)))}}),P=I(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var s=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){s.push(i.optionToData(t))}),t(s)}:"data"in t&&(t.initSelection=t.initSelection||function(i,s){var n=r(i.val(),t.separator),a=[];t.query({matcher:function(i,s,r){var l=e.grep(n,function(e){return o(e,t.id(r))}).length;return l&&a.push(r),l},callback:e.isFunction(s)?function(){for(var e=[],i=0;i<n.length;i++)for(var r=n[i],l=0;l<a.length;l++){var c=a[l];if(o(r,t.id(c))){e.push(c),a.splice(l,1);break}}s(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),A.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var s=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){s.search[0].focus(),s.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+M()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),s=i.prev(".select2-search-choice:not(.select2-locked)"),n=i.next(".select2-search-choice:not(.select2-locked)"),a=p(this.search);if(i.length&&(e.which==D.LEFT||e.which==D.RIGHT||e.which==D.BACKSPACE||e.which==D.DELETE||e.which==D.ENTER)){var o=i;return e.which==D.LEFT&&s.length?o=s:e.which==D.RIGHT?o=n.length?n:null:e.which===D.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),o=s.length?s:n):e.which==D.DELETE?this.unselect(i.first())&&(this.search.width(10),o=n.length?n:null):e.which==D.ENTER&&(o=null),this.selectChoice(o),m(e),void(o&&o.length||this.open())}if((e.which===D.BACKSPACE&&1==this.keydowns||e.which==D.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void m(e);case D.ENTER:return this.selectHighlighted(),void m(e);case D.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(e),void m(e)}if(e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.BACKSPACE&&e.which!==D.ESC){if(e.which===D.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)&&m(e),e.which===D.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],s=[],a=this;e(t).each(function(){n(a.id(this),i)<0&&(i.push(a.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,i){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var s,n,a=!i.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=a?o:r,c=this.id(i),h=this.getVal();s=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),s!=t&&l.find("div").replaceWith("<div>"+s+"</div>"),n=this.opts.formatSelectionCssClass(i,l.find("div")),n!=t&&l.addClass(n),a&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),h.push(c),this.setVal(h)},unselect:function(t){var i,s,a=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";
if(i=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(s=n(this.id(i),a))>=0;)a.splice(s,1),this.setVal(a),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var s=this.getVal(),a=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),r=this;a.each2(function(e,t){var i=r.id(t.data("select2-data"));n(i,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&S(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+k(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,i,s,n,a=l(this.search);e=g(this.search)+10,t=this.search.offset().left,i=this.selection.width(),s=this.selection.offset().left,n=i-(t-s)-a,e>n&&(n=i-a),40>n&&(n=i-a),0>=n&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var s=0;s<e.length;s++)o(this.opts.id(t[i]),this.opts.id(e[s]))&&(t.splice(i,1),i>0&&i--,e.splice(s,1),s--);return{added:t,removed:e}},val:function(i,s){var n,a=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(s&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),s&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,a.id);a.setVal(i),a.updateSelection(t),a.clearSearch(),s&&a.triggerChange(a.buildChangeDetails(n,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var s,n,a=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),s=e.map(t,function(e){return a.opts.id(e)}),this.setVal(s),this.updateSelection(t),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(n,this.data()))))}}),e.fn.select2=function(){var i,s,a,o,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],d=["val","data"],u={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:e.extend({},l[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),s=r?new window.Select2["class"].multi:new window.Select2["class"].single,s.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],c)<0)throw"Unknown method: "+l[0];if(o=t,s=e(this).data("select2"),s===t)return;if(a=l[0],"container"===a?o=s.container:"dropdown"===a?o=s.dropdown:(u[a]&&(a=u[a]),o=s[a].apply(s,l.slice(1))),n(l[0],h)>=0||n(l[0],d)>=0&&1==l.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,s){var n=[];return w(e.text,i.term,n,s),n.join("")},formatSelection:function(e,i,s){return e?s(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return s(""+t).toUpperCase().indexOf(s(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:y,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:x,tags:C},util:{debounce:d,markMatch:w,escapeMarkup:y,stripDiacritics:s},"class":{"abstract":O,single:j,multi:P}}}}(jQuery),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(i))}function i(t){var i=t.target,s=e(i);if(!s.is("[type=submit],[type=image]")){var n=s.closest("[type=submit]");if(0===n.length)return;i=n[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=s.offset();a.clk_x=t.pageX-o.left,a.clk_y=t.pageY-o.top}else a.clk_x=t.pageX-i.offsetLeft,a.clk_y=t.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function s(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){var s,n,a=e.param(i,t.traditional).split("&"),o=a.length,r=[];for(s=0;o>s;s++)a[s]=a[s].replace(/\+/g," "),n=a[s].split("="),r.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return r}function o(s){for(var n=new FormData,a=0;a<s.length;a++)n.append(s[a].name,s[a].value);if(t.extraData){var o=i(t.extraData);for(a=0;a<o.length;a++)o[a]&&n.append(o[a][0],o[a][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(r.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,s=e.loaded||e.position,n=e.total;e.lengthComputable&&(i=Math.ceil(s/n*100)),t.uploadProgress(e,s,n,i)},!1),i}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(e,i){i.data=t.formData?t.formData:n,c&&c.call(this,e,i)},e.ajax(r)}function r(i){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){s("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){s("cannot get iframe.contentDocument: "+i),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;s("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){s("Server abort: ",i," (",i.name,")"),r(E),x&&clearTimeout(x),x=void 0}}var i=d.attr2("target"),a=d.attr2("action"),o="multipart/form-data",c=d.attr("enctype")||d.attr("encoding")||o;C.setAttribute("target",p),(!l||/post/i.test(l))&&C.setAttribute("method","POST"),a!=u.url&&C.setAttribute("action",u.url),u.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(x=setTimeout(function(){_=!0,r(k)},u.timeout));var h=[];try{if(u.extraData)for(var f in u.extraData)u.extraData.hasOwnProperty(f)&&h.push(e.isPlainObject(u.extraData[f])&&u.extraData[f].hasOwnProperty("name")&&u.extraData[f].hasOwnProperty("value")?e('<input type="hidden" name="'+u.extraData[f].name+'">').val(u.extraData[f].value).appendTo(C)[0]:e('<input type="hidden" name="'+f+'">').val(u.extraData[f]).appendTo(C)[0]);u.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",r):g.addEventListener("load",r,!1),setTimeout(t,15);try{C.submit()}catch(m){var b=document.createElement("form").submit;b.apply(C)}}finally{C.setAttribute("action",a),C.setAttribute("enctype",c),i?C.setAttribute("target",i):d.removeAttr("target"),e(h).remove()}}function r(t){if(!b.aborted&&!O){if(D=n(g),D||(s("cannot access response document"),t=E),t===k&&b)return b.abort("timeout"),void S.reject(b,"timeout");if(t==E&&b)return b.abort("server abort"),void S.reject(b,"error","server abort");if(D&&D.location.href!=u.iframeSrc||_){g.detachEvent?g.detachEvent("onload",r):g.removeEventListener("load",r,!1);var i,a="success";try{if(_)throw"timeout";var o="xml"==u.dataType||D.XMLDocument||e.isXMLDoc(D);if(s("isXml="+o),!o&&window.opera&&(null===D.body||!D.body.innerHTML)&&--j)return s("requeing onLoad callback, DOM not available"),void setTimeout(r,250);var l=D.body?D.body:D.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=D.XMLDocument?D.XMLDocument:D,o&&(u.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":u.dataType};return t[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(u.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||u.textarea){var d=D.getElementsByTagName("textarea")[0];if(d)b.responseText=d.value,b.status=Number(d.getAttribute("status"))||b.status,b.statusText=d.getAttribute("statusText")||b.statusText;else if(h){var p=D.getElementsByTagName("pre")[0],m=D.getElementsByTagName("body")[0];p?b.responseText=p.textContent?p.textContent:p.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=P(b.responseText));try{I=z(b,c,u)}catch(w){a="parsererror",b.error=i=w||a}}catch(w){s("error caught: ",w),a="error",b.error=i=w||a}b.aborted&&(s("upload aborted"),a=null),b.status&&(a=b.status>=200&&b.status<300||304===b.status?"success":"error"),"success"===a?(u.success&&u.success.call(u.context,I,"success",b),S.resolve(b.responseText,"success",b),f&&e.event.trigger("ajaxSuccess",[b,u])):a&&(void 0===i&&(i=b.statusText),u.error&&u.error.call(u.context,b,a,i),S.reject(b,"error",i),f&&e.event.trigger("ajaxError",[b,u,i])),f&&e.event.trigger("ajaxComplete",[b,u]),f&&!--e.active&&e.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,b,a),O=!0,u.timeout&&clearTimeout(x),setTimeout(function(){u.iframeTarget?v.attr("src",u.iframeSrc):v.remove(),b.responseXML=null},100)}}}var c,h,u,f,p,v,g,b,w,y,_,x,C=d[0],S=e.Deferred();if(S.abort=function(e){b.abort(e)},i)for(h=0;h<m.length;h++)c=e(m[h]),a?c.prop("disabled",!1):c.removeAttr("disabled");if(u=e.extend(!0,{},e.ajaxSettings,t),u.context=u.context||u,p="jqFormIO"+(new Date).getTime(),u.iframeTarget?(v=e(u.iframeTarget),y=v.attr2("name"),y?p=y:v.attr2("name",p)):(v=e('<iframe name="'+p+'" src="'+u.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";s("aborting upload... "+i),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",u.iframeSrc),b.error=i,u.error&&u.error.call(u.context,b,i,t),f&&e.event.trigger("ajaxError",[b,u,i]),u.complete&&u.complete.call(u.context,b,i)}},f=u.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[b,u]),u.beforeSend&&u.beforeSend.call(u.context,b,u)===!1)return u.global&&e.active--,S.reject(),S;if(b.aborted)return S.reject(),S;w=C.clk,w&&(y=w.name,y&&!w.disabled&&(u.extraData=u.extraData||{},u.extraData[y]=w.value,"image"==w.type&&(u.extraData[y+".x"]=C.clk_x,u.extraData[y+".y"]=C.clk_y)));var k=1,E=2,T=e("meta[name=csrf-token]").attr("content"),A=e("meta[name=csrf-param]").attr("content");A&&T&&(u.extraData=u.extraData||{},u.extraData[A]=T),u.forceSync?o():setTimeout(o,10);var I,D,O,j=50,P=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},M=e.parseJSON||function(e){return window.eval("("+e+")")},z=function(t,i,s){var n=t.getResponseHeader("content-type")||"",a="xml"===i||!i&&n.indexOf("xml")>=0,o=a?t.responseXML:t.responseText;return a&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),s&&s.dataFilter&&(o=s.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&n.indexOf("json")>=0?o=M(o):("script"===i||!i&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return s("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,h,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),h="string"==typeof c?e.trim(c):"",h=h||window.location.href||"",h&&(h=(h.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:h,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var u={};if(this.trigger("form-pre-serialize",[this,t,u]),u.veto)return s("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return s("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var p,m=[],v=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,p=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return s("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,u]),u.veto)return s("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,f);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var b=[];if(t.resetForm&&b.push(function(){d.resetForm()}),t.clearForm&&b.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var w=t.success||function(){};b.push(function(i){var s=t.replaceTarget?"replaceWith":"html";e(t.target)[s](i).each(w,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,i,s){for(var n=t.context||this,a=0,o=b.length;o>a;a++)b[a].apply(n,[e,i,s||d,d])},t.error){var y=t.error;t.error=function(e,i,s){var n=t.context||this;y.apply(n,[e,i,s,d])}}if(t.complete){var _=t.complete;t.complete=function(e,i){var s=t.context||this;_.apply(s,[e,i,d])}}var x=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),C=x.length>0,S="multipart/form-data",k=d.attr("enctype")==S||d.attr("encoding")==S,E=n.fileapi&&n.formdata;s("fileAPI :"+E);var T,A=(C||k)&&!E;t.iframe!==!1&&(t.iframe||A)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){T=r(v)}):T=r(v):T=(C||k)&&E?o(v):e.ajax(t),d.removeData("jqxhr").data("jqxhr",T);for(var I=0;I<m.length;I++)m[I]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(s("DOM not ready, queuing ajaxForm"),e(function(){e(a.s,a.c).ajaxForm(n)}),this):(s("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var s=[];if(0===this.length)return s;var a,o=this[0],r=this.attr("id"),l=t?o.getElementsByTagName("*"):o.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=e(l).get()),r&&(a=e(':input[form="'+r+'"]').get(),a.length&&(l=(l||[]).concat(a))),!l||!l.length)return s;var c,h,d,u,f,p,m;for(c=0,p=l.length;p>c;c++)if(f=l[c],d=f.name,d&&!f.disabled)if(t&&o.clk&&"image"==f.type)o.clk==f&&(s.push({name:d,value:e(f).val(),type:f.type}),s.push({name:d+".x",value:o.clk_x},{name:d+".y",value:o.clk_y}));else if(u=e.fieldValue(f,!0),u&&u.constructor==Array)for(i&&i.push(f),h=0,m=u.length;m>h;h++)s.push({name:d,value:u[h]});else if(n.fileapi&&"file"==f.type){i&&i.push(f);var v=f.files;if(v.length)for(h=0;h<v.length;h++)s.push({name:d,value:v[h],type:f.type});else s.push({name:d,value:"",type:f.type})}else null!==u&&"undefined"!=typeof u&&(i&&i.push(f),s.push({name:d,value:u,type:f.type,required:f.required}));if(!t&&o.clk){var g=e(o.clk),b=g[0];d=b.name,d&&!b.disabled&&"image"==b.type&&(s.push({name:d,value:g.val()}),s.push({name:d+".x",value:o.clk_x},{name:d+".y",value:o.clk_y}))}return s},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var s=this.name;if(s){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var a=0,o=n.length;o>a;a++)i.push({name:s,value:n[a]});else null!==n&&"undefined"!=typeof n&&i.push({name:this.name,value:n})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],s=0,n=this.length;n>s;s++){var a=this[s],o=e.fieldValue(a,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(i,o):i.push(o))}return i},e.fieldValue=function(t,i){var s=t.name,n=t.type,a=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!s||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==a&&-1==t.selectedIndex))return null;if("select"==a){var o=t.selectedIndex;if(0>o)return null;for(var r=[],l=t.options,c="select-one"==n,h=c?o+1:l.length,d=c?o:0;h>d;d++){var u=l[d];if(u.selected){var f=u.value;if(f||(f=u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value),c)return f;r.push(f)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var s=this.type,n=this.tagName.toLowerCase();i.test(s)||"textarea"==n?this.value="":"checkbox"==s||"radio"==s?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==s?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(s)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var s=e(this).parent("select");t&&s[0]&&"select-one"==s[0].type&&s.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});